<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>Array</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="../css/reset.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../css/main.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../css/github.css" type="text/css" media="screen" />
<script src="../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
<script src="../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
<script src="../js/main.js" type="text/javascript" charset="utf-8"></script>
<script src="../js/highlight.pack.js" type="text/javascript" charset="utf-8"></script>

</head>

<body>     
    <div class="banner">
        
        <h1>
            <span class="type">Class</span> 
            Array 
            
                <span class="parent">&lt; 
                    
                    <a href="Object.html">Object</a>
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../files/array_c.html">array.c</a></li>
            
            <li><a href="../files/pack_c.html">pack.c</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
  
    <div class="description">
      
<p>Arrays are ordered, integer-indexed collections of any object. <a
href="Array.html">Array</a> indexing starts at 0, as in C or Java.  A
negative index is assumed to be relative to the end of the array—that is,
an index of -1 indicates the last element of the array, -2 is the next to
last element in the array, and so on.</p>

    </div>
  


  


  
  


  


  
    <!-- Method ref -->
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
      
        <dt>#</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-26">&amp;</a>,
              </li>
            
              
              <li>
                <a href="#method-i-2A">*</a>,
              </li>
            
              
              <li>
                <a href="#method-i-2B">+</a>,
              </li>
            
              
              <li>
                <a href="#method-i-2D">-</a>,
              </li>
            
              
              <li>
                <a href="#method-i-3C-3C">&lt;&lt;</a>,
              </li>
            
              
              <li>
                <a href="#method-i-3C-3D-3E">&lt;=&gt;</a>,
              </li>
            
              
              <li>
                <a href="#method-i-3D-3D">==</a>,
              </li>
            
              
              <li>
                <a href="#method-c-5B-5D">[]</a>,
              </li>
            
              
              <li>
                <a href="#method-i-5B-5D">[]</a>,
              </li>
            
              
              <li>
                <a href="#method-i-5B-5D-3D">[]=</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>A</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-assoc">assoc</a>,
              </li>
            
              
              <li>
                <a href="#method-i-at">at</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>C</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-clear">clear</a>,
              </li>
            
              
              <li>
                <a href="#method-i-collect">collect</a>,
              </li>
            
              
              <li>
                <a href="#method-i-collect-21">collect!</a>,
              </li>
            
              
              <li>
                <a href="#method-i-combination">combination</a>,
              </li>
            
              
              <li>
                <a href="#method-i-compact">compact</a>,
              </li>
            
              
              <li>
                <a href="#method-i-compact-21">compact!</a>,
              </li>
            
              
              <li>
                <a href="#method-i-concat">concat</a>,
              </li>
            
              
              <li>
                <a href="#method-i-count">count</a>,
              </li>
            
              
              <li>
                <a href="#method-i-cycle">cycle</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>D</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-delete">delete</a>,
              </li>
            
              
              <li>
                <a href="#method-i-delete_at">delete_at</a>,
              </li>
            
              
              <li>
                <a href="#method-i-delete_if">delete_if</a>,
              </li>
            
              
              <li>
                <a href="#method-i-drop">drop</a>,
              </li>
            
              
              <li>
                <a href="#method-i-drop_while">drop_while</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>E</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-each">each</a>,
              </li>
            
              
              <li>
                <a href="#method-i-each_index">each_index</a>,
              </li>
            
              
              <li>
                <a href="#method-i-empty-3F">empty?</a>,
              </li>
            
              
              <li>
                <a href="#method-i-eql-3F">eql?</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>F</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-fetch">fetch</a>,
              </li>
            
              
              <li>
                <a href="#method-i-fill">fill</a>,
              </li>
            
              
              <li>
                <a href="#method-i-find_index">find_index</a>,
              </li>
            
              
              <li>
                <a href="#method-i-first">first</a>,
              </li>
            
              
              <li>
                <a href="#method-i-flatten">flatten</a>,
              </li>
            
              
              <li>
                <a href="#method-i-flatten-21">flatten!</a>,
              </li>
            
              
              <li>
                <a href="#method-i-frozen-3F">frozen?</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>H</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-hash">hash</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>I</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-include-3F">include?</a>,
              </li>
            
              
              <li>
                <a href="#method-i-index">index</a>,
              </li>
            
              
              <li>
                <a href="#method-i-initialize_copy">initialize_copy</a>,
              </li>
            
              
              <li>
                <a href="#method-i-insert">insert</a>,
              </li>
            
              
              <li>
                <a href="#method-i-inspect">inspect</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>J</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-join">join</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>K</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-keep_if">keep_if</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>L</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-last">last</a>,
              </li>
            
              
              <li>
                <a href="#method-i-length">length</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>M</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-map">map</a>,
              </li>
            
              
              <li>
                <a href="#method-i-map-21">map!</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>N</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-new">new</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>P</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-pack">pack</a>,
              </li>
            
              
              <li>
                <a href="#method-i-permutation">permutation</a>,
              </li>
            
              
              <li>
                <a href="#method-i-pop">pop</a>,
              </li>
            
              
              <li>
                <a href="#method-i-product">product</a>,
              </li>
            
              
              <li>
                <a href="#method-i-push">push</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>R</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-rassoc">rassoc</a>,
              </li>
            
              
              <li>
                <a href="#method-i-reject">reject</a>,
              </li>
            
              
              <li>
                <a href="#method-i-reject-21">reject!</a>,
              </li>
            
              
              <li>
                <a href="#method-i-repeated_combination">repeated_combination</a>,
              </li>
            
              
              <li>
                <a href="#method-i-repeated_permutation">repeated_permutation</a>,
              </li>
            
              
              <li>
                <a href="#method-i-replace">replace</a>,
              </li>
            
              
              <li>
                <a href="#method-i-reverse">reverse</a>,
              </li>
            
              
              <li>
                <a href="#method-i-reverse-21">reverse!</a>,
              </li>
            
              
              <li>
                <a href="#method-i-reverse_each">reverse_each</a>,
              </li>
            
              
              <li>
                <a href="#method-i-rindex">rindex</a>,
              </li>
            
              
              <li>
                <a href="#method-i-rotate">rotate</a>,
              </li>
            
              
              <li>
                <a href="#method-i-rotate-21">rotate!</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>S</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-sample">sample</a>,
              </li>
            
              
              <li>
                <a href="#method-i-select">select</a>,
              </li>
            
              
              <li>
                <a href="#method-i-select-21">select!</a>,
              </li>
            
              
              <li>
                <a href="#method-i-shift">shift</a>,
              </li>
            
              
              <li>
                <a href="#method-i-shuffle">shuffle</a>,
              </li>
            
              
              <li>
                <a href="#method-i-shuffle-21">shuffle!</a>,
              </li>
            
              
              <li>
                <a href="#method-i-size">size</a>,
              </li>
            
              
              <li>
                <a href="#method-i-slice">slice</a>,
              </li>
            
              
              <li>
                <a href="#method-i-slice-21">slice!</a>,
              </li>
            
              
              <li>
                <a href="#method-i-sort">sort</a>,
              </li>
            
              
              <li>
                <a href="#method-i-sort-21">sort!</a>,
              </li>
            
              
              <li>
                <a href="#method-i-sort_by-21">sort_by!</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>T</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-take">take</a>,
              </li>
            
              
              <li>
                <a href="#method-i-take_while">take_while</a>,
              </li>
            
              
              <li>
                <a href="#method-i-to_a">to_a</a>,
              </li>
            
              
              <li>
                <a href="#method-i-to_ary">to_ary</a>,
              </li>
            
              
              <li>
                <a href="#method-i-to_s">to_s</a>,
              </li>
            
              
              <li>
                <a href="#method-i-transpose">transpose</a>,
              </li>
            
              
              <li>
                <a href="#method-c-try_convert">try_convert</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>U</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-uniq">uniq</a>,
              </li>
            
              
              <li>
                <a href="#method-i-uniq-21">uniq!</a>,
              </li>
            
              
              <li>
                <a href="#method-i-unshift">unshift</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>V</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-values_at">values_at</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>Z</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-zip">zip</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>#</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-7C">|</a>
              </li>
            
          </ul>
        </dd>
      
    </dl>
  

  
    <!-- Includes -->
    <div class="sectiontitle">Included Modules</div>
    <ul>
      
        <li>
          
            <a href="Enumerable.html">
              Enumerable
            </a>
          
        </li>
      
    </ul>
  



  

    

    

    


    


    <!-- Methods -->
    
      <div class="sectiontitle">Class Public methods</div>
      
        <div class="method">
          <div class="title method-title" id="method-c-5B-5D">
            
              <b>[]</b>(*args)
            
            <a href="../classes/Array.html#method-c-5B-5D" name="method-c-5B-5D" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns a new array populated with the given objects.</p>

<pre>Array.[]( 1, 'a', /^A/ )
Array[ 1, 'a', /^A/ ]
[ 1, 'a', /^A/ ]</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-5B-5D_source')" id="l_method-c-5B-5D_source">show</a>
                
              </p>
              <div id="method-c-5B-5D_source" class="dyn-source">
                <pre>static VALUE
rb_ary_s_create(int argc, VALUE *argv, VALUE klass)
{
    VALUE ary = ary_new(klass, argc);
    if (argc &gt; 0 &amp;&amp; argv) {
        MEMCPY(RARRAY_PTR(ary), argv, VALUE, argc);
        ARY_SET_LEN(ary, argc);
    }

    return ary;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-new">
            
              <b>Array.new(size=0, obj=nil)
Array.new(array)
Array.new(size) {|index| block }
</b>
            
            <a href="../classes/Array.html#method-c-new" name="method-c-new" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns a new array. In the first form, the new array is empty. In the
second it is created with <em>size</em> copies of <em>obj</em> (that is,
<em>size</em> references to the same <em>obj</em>). The third form creates
a copy of the array passed as a parameter (the array is generated by
calling <a href="Array.html#method-i-to_ary">#to_ary</a>  on the
parameter). In the last form, an array of the given size is created. Each
element in this array is calculated by passing the element’s index to the
given block and storing the return value.</p>

<pre class="ruby"><span class="ruby-constant">Array</span>.<span class="ruby-identifier">new</span>
<span class="ruby-constant">Array</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2</span>)
<span class="ruby-constant">Array</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">5</span>, <span class="ruby-string">&quot;A&quot;</span>)

<span class="ruby-comment"># only one copy of the object is created</span>
<span class="ruby-identifier">a</span> = <span class="ruby-constant">Array</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2</span>, <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">new</span>)
<span class="ruby-identifier">a</span>[<span class="ruby-value">0</span>][<span class="ruby-string">'cat'</span>] = <span class="ruby-string">'feline'</span>
<span class="ruby-identifier">a</span>
<span class="ruby-identifier">a</span>[<span class="ruby-value">1</span>][<span class="ruby-string">'cat'</span>] = <span class="ruby-string">'Felix'</span>
<span class="ruby-identifier">a</span>

<span class="ruby-comment"># here multiple copies are created</span>
<span class="ruby-identifier">a</span> = <span class="ruby-constant">Array</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2</span>) { <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">new</span> }
<span class="ruby-identifier">a</span>[<span class="ruby-value">0</span>][<span class="ruby-string">'cat'</span>] = <span class="ruby-string">'feline'</span>
<span class="ruby-identifier">a</span>

<span class="ruby-identifier">squares</span> = <span class="ruby-constant">Array</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">5</span>) {<span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span> <span class="ruby-identifier">i</span>*<span class="ruby-identifier">i</span>}
<span class="ruby-identifier">squares</span>

<span class="ruby-identifier">copy</span> = <span class="ruby-constant">Array</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">squares</span>)
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-new_source')" id="l_method-c-new_source">show</a>
                
              </p>
              <div id="method-c-new_source" class="dyn-source">
                <pre>static VALUE
rb_ary_initialize(int argc, VALUE *argv, VALUE ary)
{
    long len;
    VALUE size, val;

    rb_ary_modify(ary);
    if (argc == 0) {
        if (ARY_OWNS_HEAP_P(ary) &amp;&amp; RARRAY_PTR(ary)) {
            xfree(RARRAY_PTR(ary));
        }
        rb_ary_unshare_safe(ary);
        FL_SET_EMBED(ary);
        ARY_SET_EMBED_LEN(ary, 0);
        if (rb_block_given_p()) {
            rb_warning(&quot;given block not used&quot;);
        }
        return ary;
    }
    rb_scan_args(argc, argv, &quot;02&quot;, &amp;size, &amp;val);
    if (argc == 1 &amp;&amp; !FIXNUM_P(size)) {
        val = rb_check_array_type(size);
        if (!NIL_P(val)) {
            rb_ary_replace(ary, val);
            return ary;
        }
    }

    len = NUM2LONG(size);
    if (len &lt; 0) {
        rb_raise(rb_eArgError, &quot;negative array size&quot;);
    }
    if (len &gt; ARY_MAX_SIZE) {
        rb_raise(rb_eArgError, &quot;array size too big&quot;);
    }
    rb_ary_modify(ary);
    ary_resize_capa(ary, len);
    if (rb_block_given_p()) {
        long i;

        if (argc == 2) {
            rb_warn(&quot;block supersedes default value argument&quot;);
        }
        for (i=0; i&lt;len; i++) {
            rb_ary_store(ary, i, rb_yield(LONG2NUM(i)));
            ARY_SET_LEN(ary, i + 1);
        }
    }
    else {
        memfill(RARRAY_PTR(ary), len, val);
        ARY_SET_LEN(ary, len);
    }
    return ary;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-try_convert">
            
              <b>Array.try_convert(obj) &rarr; array or nil
</b>
            
            <a href="../classes/Array.html#method-c-try_convert" name="method-c-try_convert" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Try to convert <em>obj</em> into an array, using <code>to_ary</code>
method. Returns converted array or <code>nil</code> if <em>obj</em> cannot
be converted for any reason. This method can be used to check if an
argument is an array.</p>

<pre class="ruby"><span class="ruby-constant">Array</span>.<span class="ruby-identifier">try_convert</span>([<span class="ruby-value">1</span>])   <span class="ruby-comment">#=&gt; [1]</span>
<span class="ruby-constant">Array</span>.<span class="ruby-identifier">try_convert</span>(<span class="ruby-string">&quot;1&quot;</span>)   <span class="ruby-comment">#=&gt; nil</span>

<span class="ruby-keyword">if</span> <span class="ruby-identifier">tmp</span> = <span class="ruby-constant">Array</span>.<span class="ruby-identifier">try_convert</span>(<span class="ruby-identifier">arg</span>)
  <span class="ruby-comment"># the argument is an array</span>
<span class="ruby-keyword">elsif</span> <span class="ruby-identifier">tmp</span> = <span class="ruby-constant">String</span>.<span class="ruby-identifier">try_convert</span>(<span class="ruby-identifier">arg</span>)
  <span class="ruby-comment"># the argument is a string</span>
<span class="ruby-keyword">end</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-try_convert_source')" id="l_method-c-try_convert_source">show</a>
                
              </p>
              <div id="method-c-try_convert_source" class="dyn-source">
                <pre>static VALUE
rb_ary_s_try_convert(VALUE dummy, VALUE ary)
{
    return rb_check_array_type(ary);
}</pre>
              </div>
            </div>
            
          </div>
                  
      <div class="sectiontitle">Instance Public methods</div>
      
        <div class="method">
          <div class="title method-title" id="method-i-26">
            
              <b>ary & other_ary      &rarr; new_ary
</b>
            
            <a href="../classes/Array.html#method-i-26" name="method-i-26" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Set Intersection—Returns a new array containing elements common to the
two arrays, with no duplicates.</p>

<pre class="ruby">[ <span class="ruby-value">1</span>, <span class="ruby-value">1</span>, <span class="ruby-value">3</span>, <span class="ruby-value">5</span> ] &amp; [ <span class="ruby-value">1</span>, <span class="ruby-value">2</span>, <span class="ruby-value">3</span> ]   <span class="ruby-comment">#=&gt; [ 1, 3 ]</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-26_source')" id="l_method-i-26_source">show</a>
                
              </p>
              <div id="method-i-26_source" class="dyn-source">
                <pre>static VALUE
rb_ary_and(VALUE ary1, VALUE ary2)
{
    VALUE hash, ary3, v, vv;
    long i;

    ary2 = to_ary(ary2);
    ary3 = rb_ary_new2(RARRAY_LEN(ary1) &lt; RARRAY_LEN(ary2) ?
            RARRAY_LEN(ary1) : RARRAY_LEN(ary2));
    hash = ary_make_hash(ary2);

    if (RHASH_EMPTY_P(hash))
        return ary3;

    for (i=0; i&lt;RARRAY_LEN(ary1); i++) {
        v = vv = rb_ary_elt(ary1, i);
        if (st_delete(RHASH_TBL(hash), (st_data_t*)&amp;vv, 0)) {
            rb_ary_push(ary3, v);
        }
    }
    ary_recycle_hash(hash);

    return ary3;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-2A">
            
              <b>ary * int     &rarr; new_ary
ary * str     &rarr; new_string
</b>
            
            <a href="../classes/Array.html#method-i-2A" name="method-i-2A" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Repetition—With a <a href="String.html">String</a> argument, equivalent
to self.join(str). Otherwise, returns a new array built by concatenating
the <em>int</em> copies of <code>self</code>.</p>

<pre class="ruby">[ <span class="ruby-value">1</span>, <span class="ruby-value">2</span>, <span class="ruby-value">3</span> ] * <span class="ruby-value">3</span>    <span class="ruby-comment">#=&gt; [ 1, 2, 3, 1, 2, 3, 1, 2, 3 ]</span>
[ <span class="ruby-value">1</span>, <span class="ruby-value">2</span>, <span class="ruby-value">3</span> ] * <span class="ruby-string">&quot;,&quot;</span>  <span class="ruby-comment">#=&gt; &quot;1,2,3&quot;</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-2A_source')" id="l_method-i-2A_source">show</a>
                
              </p>
              <div id="method-i-2A_source" class="dyn-source">
                <pre>static VALUE
rb_ary_times(VALUE ary, VALUE times)
{
    VALUE ary2, tmp, *ptr, *ptr2;
    long i, t, len;

    tmp = rb_check_string_type(times);
    if (!NIL_P(tmp)) {
        return rb_ary_join(ary, tmp);
    }

    len = NUM2LONG(times);
    if (len == 0) {
        ary2 = ary_new(rb_obj_class(ary), 0);
        goto out;
    }
    if (len &lt; 0) {
        rb_raise(rb_eArgError, &quot;negative argument&quot;);
    }
    if (ARY_MAX_SIZE/len &lt; RARRAY_LEN(ary)) {
        rb_raise(rb_eArgError, &quot;argument too big&quot;);
    }
    len *= RARRAY_LEN(ary);

    ary2 = ary_new(rb_obj_class(ary), len);
    ARY_SET_LEN(ary2, len);

    ptr = RARRAY_PTR(ary);
    ptr2 = RARRAY_PTR(ary2);
    t = RARRAY_LEN(ary);
    for (i=0; i&lt;len; i+=t) {
        MEMCPY(ptr2+i, ptr, VALUE, t);
    }
  out:
    OBJ_INFECT(ary2, ary);

    return ary2;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-2B">
            
              <b>ary + other_ary   &rarr; new_ary
</b>
            
            <a href="../classes/Array.html#method-i-2B" name="method-i-2B" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Concatenation—Returns a new array built by concatenating the two arrays
together to produce a third array.</p>

<pre class="ruby">[ <span class="ruby-value">1</span>, <span class="ruby-value">2</span>, <span class="ruby-value">3</span> ] <span class="ruby-operator">+</span> [ <span class="ruby-value">4</span>, <span class="ruby-value">5</span> ]    <span class="ruby-comment">#=&gt; [ 1, 2, 3, 4, 5 ]</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-2B_source')" id="l_method-i-2B_source">show</a>
                
              </p>
              <div id="method-i-2B_source" class="dyn-source">
                <pre>VALUE
rb_ary_plus(VALUE x, VALUE y)
{
    VALUE z;
    long len;

    y = to_ary(y);
    len = RARRAY_LEN(x) + RARRAY_LEN(y);
    z = rb_ary_new2(len);
    MEMCPY(RARRAY_PTR(z), RARRAY_PTR(x), VALUE, RARRAY_LEN(x));
    MEMCPY(RARRAY_PTR(z) + RARRAY_LEN(x), RARRAY_PTR(y), VALUE, RARRAY_LEN(y));
    ARY_SET_LEN(z, len);
    return z;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-2D">
            
              <b>ary - other_ary    &rarr; new_ary
</b>
            
            <a href="../classes/Array.html#method-i-2D" name="method-i-2D" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p><a href="Array.html">Array</a> Difference—Returns a new array that is a
copy of the original array, removing any items that also appear in
<em>other_ary</em>. (If you need set-like behavior, see the library class
Set.)</p>

<pre class="ruby">[ <span class="ruby-value">1</span>, <span class="ruby-value">1</span>, <span class="ruby-value">2</span>, <span class="ruby-value">2</span>, <span class="ruby-value">3</span>, <span class="ruby-value">3</span>, <span class="ruby-value">4</span>, <span class="ruby-value">5</span> ] <span class="ruby-operator">-</span> [ <span class="ruby-value">1</span>, <span class="ruby-value">2</span>, <span class="ruby-value">4</span> ]  <span class="ruby-comment">#=&gt;  [ 3, 3, 5 ]</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-2D_source')" id="l_method-i-2D_source">show</a>
                
              </p>
              <div id="method-i-2D_source" class="dyn-source">
                <pre>static VALUE
rb_ary_diff(VALUE ary1, VALUE ary2)
{
    VALUE ary3;
    volatile VALUE hash;
    long i;

    hash = ary_make_hash(to_ary(ary2));
    ary3 = rb_ary_new();

    for (i=0; i&lt;RARRAY_LEN(ary1); i++) {
        if (st_lookup(RHASH_TBL(hash), RARRAY_PTR(ary1)[i], 0)) continue;
        rb_ary_push(ary3, rb_ary_elt(ary1, i));
    }
    ary_recycle_hash(hash);
    return ary3;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-3C-3C">
            
              <b>ary << obj            &rarr; ary
</b>
            
            <a href="../classes/Array.html#method-i-3C-3C" name="method-i-3C-3C" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Append—Pushes the given object on to the end of this array. This
expression returns the array itself, so several appends may be chained
together.</p>

<pre class="ruby">[ <span class="ruby-value">1</span>, <span class="ruby-value">2</span> ] <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot;c&quot;</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot;d&quot;</span> <span class="ruby-operator">&lt;&lt;</span> [ <span class="ruby-value">3</span>, <span class="ruby-value">4</span> ]
        <span class="ruby-comment">#=&gt;  [ 1, 2, &quot;c&quot;, &quot;d&quot;, [ 3, 4 ] ]</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-3C-3C_source')" id="l_method-i-3C-3C_source">show</a>
                
              </p>
              <div id="method-i-3C-3C_source" class="dyn-source">
                <pre>VALUE
rb_ary_push(VALUE ary, VALUE item)
{
    rb_ary_modify(ary);
    return rb_ary_push_1(ary, item);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-3C-3D-3E">
            
              <b>ary <=> other_ary   &rarr;  -1, 0, +1 or nil
</b>
            
            <a href="../classes/Array.html#method-i-3C-3D-3E" name="method-i-3C-3D-3E" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Comparison—Returns an integer (-1, 0, or +1) if this array is less than,
equal to, or greater than <em>other_ary</em>.  Each object in each array is
compared (using &lt;=&gt;). If any value isn’t equal, then that
inequality is the return value. If all the values found are equal, then the
return is based on a comparison of the array lengths.  Thus, two arrays are
“equal” according to <code>Array#&lt;=&gt;</code> if and only if they
have the same length and the value of each element is equal to the value of
the corresponding element in the other array.</p>

<pre class="ruby">[ <span class="ruby-string">&quot;a&quot;</span>, <span class="ruby-string">&quot;a&quot;</span>, <span class="ruby-string">&quot;c&quot;</span> ]    <span class="ruby-operator">&lt;=&gt;</span> [ <span class="ruby-string">&quot;a&quot;</span>, <span class="ruby-string">&quot;b&quot;</span>, <span class="ruby-string">&quot;c&quot;</span> ]   <span class="ruby-comment">#=&gt; -1</span>
[ <span class="ruby-value">1</span>, <span class="ruby-value">2</span>, <span class="ruby-value">3</span>, <span class="ruby-value">4</span>, <span class="ruby-value">5</span>, <span class="ruby-value">6</span> ] <span class="ruby-operator">&lt;=&gt;</span> [ <span class="ruby-value">1</span>, <span class="ruby-value">2</span> ]            <span class="ruby-comment">#=&gt; +1</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-3C-3D-3E_source')" id="l_method-i-3C-3D-3E_source">show</a>
                
              </p>
              <div id="method-i-3C-3D-3E_source" class="dyn-source">
                <pre>VALUE
rb_ary_cmp(VALUE ary1, VALUE ary2)
{
    long len;
    VALUE v;

    ary2 = rb_check_array_type(ary2);
    if (NIL_P(ary2)) return Qnil;
    if (ary1 == ary2) return INT2FIX(0);
    v = rb_exec_recursive_paired(recursive_cmp, ary1, ary2, ary2);
    if (v != Qundef) return v;
    len = RARRAY_LEN(ary1) - RARRAY_LEN(ary2);
    if (len == 0) return INT2FIX(0);
    if (len &gt; 0) return INT2FIX(1);
    return INT2FIX(-1);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-3D-3D">
            
              <b>ary == other_ary   &rarr;   bool
</b>
            
            <a href="../classes/Array.html#method-i-3D-3D" name="method-i-3D-3D" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Equality—Two arrays are equal if they contain the same number of elements
and if each element is equal to (according to <a
href="Object.html">Object</a>.==) the corresponding element in the other
array.</p>

<pre class="ruby">[ <span class="ruby-string">&quot;a&quot;</span>, <span class="ruby-string">&quot;c&quot;</span> ]    <span class="ruby-operator">==</span> [ <span class="ruby-string">&quot;a&quot;</span>, <span class="ruby-string">&quot;c&quot;</span>, <span class="ruby-value">7</span> ]     <span class="ruby-comment">#=&gt; false</span>
[ <span class="ruby-string">&quot;a&quot;</span>, <span class="ruby-string">&quot;c&quot;</span>, <span class="ruby-value">7</span> ] <span class="ruby-operator">==</span> [ <span class="ruby-string">&quot;a&quot;</span>, <span class="ruby-string">&quot;c&quot;</span>, <span class="ruby-value">7</span> ]     <span class="ruby-comment">#=&gt; true</span>
[ <span class="ruby-string">&quot;a&quot;</span>, <span class="ruby-string">&quot;c&quot;</span>, <span class="ruby-value">7</span> ] <span class="ruby-operator">==</span> [ <span class="ruby-string">&quot;a&quot;</span>, <span class="ruby-string">&quot;d&quot;</span>, <span class="ruby-string">&quot;f&quot;</span> ]   <span class="ruby-comment">#=&gt; false</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-3D-3D_source')" id="l_method-i-3D-3D_source">show</a>
                
              </p>
              <div id="method-i-3D-3D_source" class="dyn-source">
                <pre>static VALUE
rb_ary_equal(VALUE ary1, VALUE ary2)
{
    if (ary1 == ary2) return Qtrue;
    if (TYPE(ary2) != T_ARRAY) {
        if (!rb_respond_to(ary2, rb_intern(&quot;to_ary&quot;))) {
            return Qfalse;
        }
        return rb_equal(ary2, ary1);
    }
    if (RARRAY_LEN(ary1) != RARRAY_LEN(ary2)) return Qfalse;
    return rb_exec_recursive_paired(recursive_equal, ary1, ary2, ary2);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-5B-5D">
            
              <b>ary[index]                &rarr; obj     or nil
ary[start, length]        &rarr; new_ary or nil
ary[range]                &rarr; new_ary or nil
ary.slice(index)          &rarr; obj     or nil
ary.slice(start, length)  &rarr; new_ary or nil
ary.slice(range)          &rarr; new_ary or nil
</b>
            
            <a href="../classes/Array.html#method-i-5B-5D" name="method-i-5B-5D" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Element Reference—Returns the element at <em>index</em>, or returns a
subarray starting at <em>start</em> and continuing for <em>length</em>
elements, or returns a subarray specified by <em>range</em>. Negative
indices count backward from the end of the array (-1 is the last element).
Returns <code>nil</code> if the index (or starting index) are out of range.</p>

<pre class="ruby"><span class="ruby-identifier">a</span> = [ <span class="ruby-string">&quot;a&quot;</span>, <span class="ruby-string">&quot;b&quot;</span>, <span class="ruby-string">&quot;c&quot;</span>, <span class="ruby-string">&quot;d&quot;</span>, <span class="ruby-string">&quot;e&quot;</span> ]
<span class="ruby-identifier">a</span>[<span class="ruby-value">2</span>] <span class="ruby-operator">+</span>  <span class="ruby-identifier">a</span>[<span class="ruby-value">0</span>] <span class="ruby-operator">+</span> <span class="ruby-identifier">a</span>[<span class="ruby-value">1</span>]    <span class="ruby-comment">#=&gt; &quot;cab&quot;</span>
<span class="ruby-identifier">a</span>[<span class="ruby-value">6</span>]                   <span class="ruby-comment">#=&gt; nil</span>
<span class="ruby-identifier">a</span>[<span class="ruby-value">1</span>, <span class="ruby-value">2</span>]                <span class="ruby-comment">#=&gt; [ &quot;b&quot;, &quot;c&quot; ]</span>
<span class="ruby-identifier">a</span>[<span class="ruby-value">1</span><span class="ruby-operator">..</span><span class="ruby-value">3</span>]                <span class="ruby-comment">#=&gt; [ &quot;b&quot;, &quot;c&quot;, &quot;d&quot; ]</span>
<span class="ruby-identifier">a</span>[<span class="ruby-value">4</span><span class="ruby-operator">..</span><span class="ruby-value">7</span>]                <span class="ruby-comment">#=&gt; [ &quot;e&quot; ]</span>
<span class="ruby-identifier">a</span>[<span class="ruby-value">6</span><span class="ruby-operator">..</span><span class="ruby-value">10</span>]               <span class="ruby-comment">#=&gt; nil</span>
<span class="ruby-identifier">a</span>[<span class="ruby-value">-3</span>, <span class="ruby-value">3</span>]               <span class="ruby-comment">#=&gt; [ &quot;c&quot;, &quot;d&quot;, &quot;e&quot; ]</span>
<span class="ruby-comment"># special cases</span>
<span class="ruby-identifier">a</span>[<span class="ruby-value">5</span>]                   <span class="ruby-comment">#=&gt; nil</span>
<span class="ruby-identifier">a</span>[<span class="ruby-value">5</span>, <span class="ruby-value">1</span>]                <span class="ruby-comment">#=&gt; []</span>
<span class="ruby-identifier">a</span>[<span class="ruby-value">5</span><span class="ruby-operator">..</span><span class="ruby-value">10</span>]               <span class="ruby-comment">#=&gt; []</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-5B-5D_source')" id="l_method-i-5B-5D_source">show</a>
                
              </p>
              <div id="method-i-5B-5D_source" class="dyn-source">
                <pre>VALUE
rb_ary_aref(int argc, VALUE *argv, VALUE ary)
{
    VALUE arg;
    long beg, len;

    if (argc == 2) {
        beg = NUM2LONG(argv[0]);
        len = NUM2LONG(argv[1]);
        if (beg &lt; 0) {
            beg += RARRAY_LEN(ary);
        }
        return rb_ary_subseq(ary, beg, len);
    }
    if (argc != 1) {
        rb_scan_args(argc, argv, &quot;11&quot;, 0, 0);
    }
    arg = argv[0];
    /* special case - speeding up */
    if (FIXNUM_P(arg)) {
        return rb_ary_entry(ary, FIX2LONG(arg));
    }
    /* check if idx is Range */
    switch (rb_range_beg_len(arg, &amp;beg, &amp;len, RARRAY_LEN(ary), 0)) {
      case Qfalse:
        break;
      case Qnil:
        return Qnil;
      default:
        return rb_ary_subseq(ary, beg, len);
    }
    return rb_ary_entry(ary, NUM2LONG(arg));
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-5B-5D-3D">
            
              <b>ary[index]         = obj                      &rarr;  obj
ary[start, length] = obj or other_ary or nil  &rarr;  obj or other_ary or nil
ary[range]         = obj or other_ary or nil  &rarr;  obj or other_ary or nil
</b>
            
            <a href="../classes/Array.html#method-i-5B-5D-3D" name="method-i-5B-5D-3D" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Element Assignment—Sets the element at <em>index</em>, or replaces a
subarray starting at <em>start</em> and continuing for <em>length</em>
elements, or replaces a subarray specified by <em>range</em>.  If indices
are greater than the current capacity of the array, the array grows
automatically. A negative indices will count backward from the end of the
array. Inserts elements if <em>length</em> is zero. An
<code>IndexError</code> is raised if a negative index points past the
beginning of the array. See also <code>Array#push</code>, and
<code>Array#unshift</code>.</p>

<pre class="ruby"><span class="ruby-identifier">a</span> = <span class="ruby-constant">Array</span>.<span class="ruby-identifier">new</span>
<span class="ruby-identifier">a</span>[<span class="ruby-value">4</span>] = <span class="ruby-string">&quot;4&quot;</span>;                 <span class="ruby-comment">#=&gt; [nil, nil, nil, nil, &quot;4&quot;]</span>
<span class="ruby-identifier">a</span>[<span class="ruby-value">0</span>, <span class="ruby-value">3</span>] = [ <span class="ruby-string">'a'</span>, <span class="ruby-string">'b'</span>, <span class="ruby-string">'c'</span> ] <span class="ruby-comment">#=&gt; [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, nil, &quot;4&quot;]</span>
<span class="ruby-identifier">a</span>[<span class="ruby-value">1</span><span class="ruby-operator">..</span><span class="ruby-value">2</span>] = [ <span class="ruby-value">1</span>, <span class="ruby-value">2</span> ]          <span class="ruby-comment">#=&gt; [&quot;a&quot;, 1, 2, nil, &quot;4&quot;]</span>
<span class="ruby-identifier">a</span>[<span class="ruby-value">0</span>, <span class="ruby-value">2</span>] = <span class="ruby-string">&quot;?&quot;</span>               <span class="ruby-comment">#=&gt; [&quot;?&quot;, 2, nil, &quot;4&quot;]</span>
<span class="ruby-identifier">a</span>[<span class="ruby-value">0</span><span class="ruby-operator">..</span><span class="ruby-value">2</span>] = <span class="ruby-string">&quot;A&quot;</span>               <span class="ruby-comment">#=&gt; [&quot;A&quot;, &quot;4&quot;]</span>
<span class="ruby-identifier">a</span>[<span class="ruby-value">-1</span>]   = <span class="ruby-string">&quot;Z&quot;</span>               <span class="ruby-comment">#=&gt; [&quot;A&quot;, &quot;Z&quot;]</span>
<span class="ruby-identifier">a</span>[<span class="ruby-value">1</span><span class="ruby-operator">..</span><span class="ruby-value">-1</span>] = <span class="ruby-keyword">nil</span>              <span class="ruby-comment">#=&gt; [&quot;A&quot;, nil]</span>
<span class="ruby-identifier">a</span>[<span class="ruby-value">1</span><span class="ruby-operator">..</span><span class="ruby-value">-1</span>] = []               <span class="ruby-comment">#=&gt; [&quot;A&quot;]</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-5B-5D-3D_source')" id="l_method-i-5B-5D-3D_source">show</a>
                
              </p>
              <div id="method-i-5B-5D-3D_source" class="dyn-source">
                <pre>static VALUE
rb_ary_aset(int argc, VALUE *argv, VALUE ary)
{
    long offset, beg, len;

    if (argc == 3) {
        rb_ary_modify_check(ary);
        beg = NUM2LONG(argv[0]);
        len = NUM2LONG(argv[1]);
        rb_ary_splice(ary, beg, len, argv[2]);
        return argv[2];
    }
    if (argc != 2) {
        rb_raise(rb_eArgError, &quot;wrong number of arguments (%d for 2)&quot;, argc);
    }
    rb_ary_modify_check(ary);
    if (FIXNUM_P(argv[0])) {
        offset = FIX2LONG(argv[0]);
        goto fixnum;
    }
    if (rb_range_beg_len(argv[0], &amp;beg, &amp;len, RARRAY_LEN(ary), 1)) {
        /* check if idx is Range */
        rb_ary_splice(ary, beg, len, argv[1]);
        return argv[1];
    }

    offset = NUM2LONG(argv[0]);
fixnum:
    rb_ary_store(ary, offset, argv[1]);
    return argv[1];
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-assoc">
            
              <b>ary.assoc(obj)   &rarr; new_ary  or  nil
</b>
            
            <a href="../classes/Array.html#method-i-assoc" name="method-i-assoc" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Searches through an array whose elements are also arrays comparing
<em>obj</em> with the first element of each contained array using obj.==.
Returns the first contained array that matches (that is, the first
associated array), or <code>nil</code> if no match is found. See also
<code>Array#rassoc</code>.</p>

<pre class="ruby"><span class="ruby-identifier">s1</span> = [ <span class="ruby-string">&quot;colors&quot;</span>, <span class="ruby-string">&quot;red&quot;</span>, <span class="ruby-string">&quot;blue&quot;</span>, <span class="ruby-string">&quot;green&quot;</span> ]
<span class="ruby-identifier">s2</span> = [ <span class="ruby-string">&quot;letters&quot;</span>, <span class="ruby-string">&quot;a&quot;</span>, <span class="ruby-string">&quot;b&quot;</span>, <span class="ruby-string">&quot;c&quot;</span> ]
<span class="ruby-identifier">s3</span> = <span class="ruby-string">&quot;foo&quot;</span>
<span class="ruby-identifier">a</span>  = [ <span class="ruby-identifier">s1</span>, <span class="ruby-identifier">s2</span>, <span class="ruby-identifier">s3</span> ]
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">assoc</span>(<span class="ruby-string">&quot;letters&quot;</span>)  <span class="ruby-comment">#=&gt; [ &quot;letters&quot;, &quot;a&quot;, &quot;b&quot;, &quot;c&quot; ]</span>
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">assoc</span>(<span class="ruby-string">&quot;foo&quot;</span>)      <span class="ruby-comment">#=&gt; nil</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-assoc_source')" id="l_method-i-assoc_source">show</a>
                
              </p>
              <div id="method-i-assoc_source" class="dyn-source">
                <pre>VALUE
rb_ary_assoc(VALUE ary, VALUE key)
{
    long i;
    VALUE v;

    for (i = 0; i &lt; RARRAY_LEN(ary); ++i) {
        v = rb_check_array_type(RARRAY_PTR(ary)[i]);
        if (!NIL_P(v) &amp;&amp; RARRAY_LEN(v) &gt; 0 &amp;&amp;
            rb_equal(RARRAY_PTR(v)[0], key))
            return v;
    }
    return Qnil;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-at">
            
              <b>ary.at(index)   &rarr;   obj  or nil
</b>
            
            <a href="../classes/Array.html#method-i-at" name="method-i-at" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns the element at <em>index</em>. A negative index counts from the end
of <code>self</code>.  Returns <code>nil</code> if the index is out of
range. See also <code>Array#[]</code>.</p>

<pre class="ruby"><span class="ruby-identifier">a</span> = [ <span class="ruby-string">&quot;a&quot;</span>, <span class="ruby-string">&quot;b&quot;</span>, <span class="ruby-string">&quot;c&quot;</span>, <span class="ruby-string">&quot;d&quot;</span>, <span class="ruby-string">&quot;e&quot;</span> ]
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value">0</span>)     <span class="ruby-comment">#=&gt; &quot;a&quot;</span>
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value">-1</span>)    <span class="ruby-comment">#=&gt; &quot;e&quot;</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-at_source')" id="l_method-i-at_source">show</a>
                
              </p>
              <div id="method-i-at_source" class="dyn-source">
                <pre>static VALUE
rb_ary_at(VALUE ary, VALUE pos)
{
    return rb_ary_entry(ary, NUM2LONG(pos));
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-clear">
            
              <b>ary.clear    &rarr; ary
</b>
            
            <a href="../classes/Array.html#method-i-clear" name="method-i-clear" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Removes all elements from <code>self</code>.</p>

<pre class="ruby"><span class="ruby-identifier">a</span> = [ <span class="ruby-string">&quot;a&quot;</span>, <span class="ruby-string">&quot;b&quot;</span>, <span class="ruby-string">&quot;c&quot;</span>, <span class="ruby-string">&quot;d&quot;</span>, <span class="ruby-string">&quot;e&quot;</span> ]
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">clear</span>    <span class="ruby-comment">#=&gt; [ ]</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-clear_source')" id="l_method-i-clear_source">show</a>
                
              </p>
              <div id="method-i-clear_source" class="dyn-source">
                <pre>VALUE
rb_ary_clear(VALUE ary)
{
    rb_ary_modify(ary);
    ARY_SET_LEN(ary, 0);
    if (ARY_DEFAULT_SIZE * 2 &lt; ARY_CAPA(ary)) {
        ary_resize_capa(ary, ARY_DEFAULT_SIZE * 2);
    }
    return ary;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-collect">
            
              <b>ary.collect {|item| block }  &rarr; new_ary
ary.map     {|item| block }  &rarr; new_ary
ary.collect                  &rarr; an_enumerator
ary.map                      &rarr; an_enumerator
</b>
            
            <a href="../classes/Array.html#method-i-collect" name="method-i-collect" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Invokes <em>block</em> once for each element of <code>self</code>. Creates
a new array containing the values returned by the block. See also
<code>Enumerable#collect</code>.</p>

<p>If no block is given, an enumerator is returned instead.</p>

<pre class="ruby"><span class="ruby-identifier">a</span> = [ <span class="ruby-string">&quot;a&quot;</span>, <span class="ruby-string">&quot;b&quot;</span>, <span class="ruby-string">&quot;c&quot;</span>, <span class="ruby-string">&quot;d&quot;</span> ]
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">collect</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">x</span> <span class="ruby-operator">+</span> <span class="ruby-string">&quot;!&quot;</span> }   <span class="ruby-comment">#=&gt; [&quot;a!&quot;, &quot;b!&quot;, &quot;c!&quot;, &quot;d!&quot;]</span>
<span class="ruby-identifier">a</span>                          <span class="ruby-comment">#=&gt; [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;]</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-collect_source')" id="l_method-i-collect_source">show</a>
                
              </p>
              <div id="method-i-collect_source" class="dyn-source">
                <pre>static VALUE
rb_ary_collect(VALUE ary)
{
    long i;
    VALUE collect;

    RETURN_ENUMERATOR(ary, 0, 0);
    collect = rb_ary_new2(RARRAY_LEN(ary));
    for (i = 0; i &lt; RARRAY_LEN(ary); i++) {
        rb_ary_push(collect, rb_yield(RARRAY_PTR(ary)[i]));
    }
    return collect;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-collect-21">
            
              <b>ary.collect! {|item| block }   &rarr; ary
ary.map!     {|item| block }   &rarr; ary
ary.collect                    &rarr; an_enumerator
ary.map                        &rarr; an_enumerator
</b>
            
            <a href="../classes/Array.html#method-i-collect-21" name="method-i-collect-21" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Invokes the block once for each element of <code>self</code>, replacing the
element with the value returned by <em>block</em>. See also
<code>Enumerable#collect</code>.</p>

<p>If no block is given, an enumerator is returned instead.</p>

<pre class="ruby"><span class="ruby-identifier">a</span> = [ <span class="ruby-string">&quot;a&quot;</span>, <span class="ruby-string">&quot;b&quot;</span>, <span class="ruby-string">&quot;c&quot;</span>, <span class="ruby-string">&quot;d&quot;</span> ]
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">collect!</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">x</span> <span class="ruby-operator">+</span> <span class="ruby-string">&quot;!&quot;</span> }
<span class="ruby-identifier">a</span>             <span class="ruby-comment">#=&gt;  [ &quot;a!&quot;, &quot;b!&quot;, &quot;c!&quot;, &quot;d!&quot; ]</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-collect-21_source')" id="l_method-i-collect-21_source">show</a>
                
              </p>
              <div id="method-i-collect-21_source" class="dyn-source">
                <pre>static VALUE
rb_ary_collect_bang(VALUE ary)
{
    long i;

    RETURN_ENUMERATOR(ary, 0, 0);
    rb_ary_modify(ary);
    for (i = 0; i &lt; RARRAY_LEN(ary); i++) {
        rb_ary_store(ary, i, rb_yield(RARRAY_PTR(ary)[i]));
    }
    return ary;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-combination">
            
              <b>ary.combination(n) { |c| block }    &rarr; ary
ary.combination(n)                  &rarr; an_enumerator
</b>
            
            <a href="../classes/Array.html#method-i-combination" name="method-i-combination" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>When invoked with a block, yields all combinations of length <em>n</em> of
elements from <em>ary</em> and then returns <em>ary</em> itself. The
implementation makes no guarantees about the order in which the
combinations are yielded.</p>

<p>If no block is given, an enumerator is returned instead.</p>

<p>Examples:</p>

<pre class="ruby"><span class="ruby-identifier">a</span> = [<span class="ruby-value">1</span>, <span class="ruby-value">2</span>, <span class="ruby-value">3</span>, <span class="ruby-value">4</span>]
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">combination</span>(<span class="ruby-value">1</span>).<span class="ruby-identifier">to_a</span>  <span class="ruby-comment">#=&gt; [[1],[2],[3],[4]]</span>
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">combination</span>(<span class="ruby-value">2</span>).<span class="ruby-identifier">to_a</span>  <span class="ruby-comment">#=&gt; [[1,2],[1,3],[1,4],[2,3],[2,4],[3,4]]</span>
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">combination</span>(<span class="ruby-value">3</span>).<span class="ruby-identifier">to_a</span>  <span class="ruby-comment">#=&gt; [[1,2,3],[1,2,4],[1,3,4],[2,3,4]]</span>
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">combination</span>(<span class="ruby-value">4</span>).<span class="ruby-identifier">to_a</span>  <span class="ruby-comment">#=&gt; [[1,2,3,4]]</span>
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">combination</span>(<span class="ruby-value">0</span>).<span class="ruby-identifier">to_a</span>  <span class="ruby-comment">#=&gt; [[]] # one combination of length 0</span>
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">combination</span>(<span class="ruby-value">5</span>).<span class="ruby-identifier">to_a</span>  <span class="ruby-comment">#=&gt; []   # no combinations of length 5</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-combination_source')" id="l_method-i-combination_source">show</a>
                
              </p>
              <div id="method-i-combination_source" class="dyn-source">
                <pre>static VALUE
rb_ary_combination(VALUE ary, VALUE num)
{
    long n, i, len;

    n = NUM2LONG(num);
    RETURN_ENUMERATOR(ary, 1, &amp;num);
    len = RARRAY_LEN(ary);
    if (n &lt; 0 || len &lt; n) {
        /* yield nothing */
    }
    else if (n == 0) {
        rb_yield(rb_ary_new2(0));
    }
    else if (n == 1) {
        for (i = 0; i &lt; len; i++) {
            rb_yield(rb_ary_new3(1, RARRAY_PTR(ary)[i]));
        }
    }
    else {
        volatile VALUE t0 = tmpbuf(n+1, sizeof(long));
        long *stack = (long*)RSTRING_PTR(t0);
        volatile VALUE cc = tmpary(n);
        VALUE *chosen = RARRAY_PTR(cc);
        long lev = 0;

        MEMZERO(stack, long, n);
        stack[0] = -1;
        for (;;) {
            chosen[lev] = RARRAY_PTR(ary)[stack[lev+1]];
            for (lev++; lev &lt; n; lev++) {
                chosen[lev] = RARRAY_PTR(ary)[stack[lev+1] = stack[lev]+1];
            }
            rb_yield(rb_ary_new4(n, chosen));
            if (RBASIC(t0)-&gt;klass) {
                rb_raise(rb_eRuntimeError, &quot;combination reentered&quot;);
            }
            do {
                if (lev == 0) goto done;
                stack[lev--]++;
            } while (stack[lev+1]+n == len+lev+1);
        }
    done:
        tmpbuf_discard(t0);
        tmpary_discard(cc);
    }
    return ary;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-compact">
            
              <b>ary.compact     &rarr; new_ary
</b>
            
            <a href="../classes/Array.html#method-i-compact" name="method-i-compact" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns a copy of <code>self</code> with all <code>nil</code> elements
removed.</p>

<pre class="ruby">[ <span class="ruby-string">&quot;a&quot;</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-string">&quot;b&quot;</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-string">&quot;c&quot;</span>, <span class="ruby-keyword">nil</span> ].<span class="ruby-identifier">compact</span>
                  <span class="ruby-comment">#=&gt; [ &quot;a&quot;, &quot;b&quot;, &quot;c&quot; ]</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-compact_source')" id="l_method-i-compact_source">show</a>
                
              </p>
              <div id="method-i-compact_source" class="dyn-source">
                <pre>static VALUE
rb_ary_compact(VALUE ary)
{
    ary = rb_ary_dup(ary);
    rb_ary_compact_bang(ary);
    return ary;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-compact-21">
            
              <b>ary.compact!    &rarr; ary  or  nil
</b>
            
            <a href="../classes/Array.html#method-i-compact-21" name="method-i-compact-21" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Removes <code>nil</code> elements from the array. Returns <code>nil</code>
if no changes were made, otherwise returns &lt;/i&gt;ary&lt;/i&gt;.</p>

<pre class="ruby">[ <span class="ruby-string">&quot;a&quot;</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-string">&quot;b&quot;</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-string">&quot;c&quot;</span> ].<span class="ruby-identifier">compact!</span> <span class="ruby-comment">#=&gt; [ &quot;a&quot;, &quot;b&quot;, &quot;c&quot; ]</span>
[ <span class="ruby-string">&quot;a&quot;</span>, <span class="ruby-string">&quot;b&quot;</span>, <span class="ruby-string">&quot;c&quot;</span> ].<span class="ruby-identifier">compact!</span>           <span class="ruby-comment">#=&gt; nil</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-compact-21_source')" id="l_method-i-compact-21_source">show</a>
                
              </p>
              <div id="method-i-compact-21_source" class="dyn-source">
                <pre>static VALUE
rb_ary_compact_bang(VALUE ary)
{
    VALUE *p, *t, *end;
    long n;

    rb_ary_modify(ary);
    p = t = RARRAY_PTR(ary);
    end = p + RARRAY_LEN(ary);

    while (t &lt; end) {
        if (NIL_P(*t)) t++;
        else *p++ = *t++;
    }
    n = p - RARRAY_PTR(ary);
    if (RARRAY_LEN(ary) == n) {
        return Qnil;
    }
    ARY_SET_LEN(ary, n);
    if (n * 2 &lt; ARY_CAPA(ary) &amp;&amp; ARY_DEFAULT_SIZE * 2 &lt; ARY_CAPA(ary)) {
        ary_resize_capa(ary, n * 2);
    }

    return ary;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-concat">
            
              <b>ary.concat(other_ary)   &rarr; ary
</b>
            
            <a href="../classes/Array.html#method-i-concat" name="method-i-concat" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Appends the elements of <em>other_ary</em> to <code>self</code>.</p>

<pre class="ruby">[ <span class="ruby-string">&quot;a&quot;</span>, <span class="ruby-string">&quot;b&quot;</span> ].<span class="ruby-identifier">concat</span>( [<span class="ruby-string">&quot;c&quot;</span>, <span class="ruby-string">&quot;d&quot;</span>] ) <span class="ruby-comment">#=&gt; [ &quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot; ]</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-concat_source')" id="l_method-i-concat_source">show</a>
                
              </p>
              <div id="method-i-concat_source" class="dyn-source">
                <pre>VALUE
rb_ary_concat(VALUE x, VALUE y)
{
    rb_ary_modify_check(x);
    y = to_ary(y);
    if (RARRAY_LEN(y) &gt; 0) {
        rb_ary_splice(x, RARRAY_LEN(x), 0, y);
    }
    return x;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-count">
            
              <b>ary.count      &rarr; int
ary.count(obj) &rarr; int
ary.count { |item| block }  &rarr; int
</b>
            
            <a href="../classes/Array.html#method-i-count" name="method-i-count" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns the number of elements.  If an argument is given, counts the number
of elements which equals to <em>obj</em>.  If a block is given, counts the
number of elements yielding a true value.</p>

<pre class="ruby"><span class="ruby-identifier">ary</span> = [<span class="ruby-value">1</span>, <span class="ruby-value">2</span>, <span class="ruby-value">4</span>, <span class="ruby-value">2</span>]
<span class="ruby-identifier">ary</span>.<span class="ruby-identifier">count</span>             <span class="ruby-comment">#=&gt; 4</span>
<span class="ruby-identifier">ary</span>.<span class="ruby-identifier">count</span>(<span class="ruby-value">2</span>)          <span class="ruby-comment">#=&gt; 2</span>
<span class="ruby-identifier">ary</span>.<span class="ruby-identifier">count</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">%</span><span class="ruby-value">2</span><span class="ruby-operator">==</span><span class="ruby-value">0</span>}  <span class="ruby-comment">#=&gt; 3</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-count_source')" id="l_method-i-count_source">show</a>
                
              </p>
              <div id="method-i-count_source" class="dyn-source">
                <pre>static VALUE
rb_ary_count(int argc, VALUE *argv, VALUE ary)
{
    long n = 0;

    if (argc == 0) {
        VALUE *p, *pend;

        if (!rb_block_given_p())
            return LONG2NUM(RARRAY_LEN(ary));

        for (p = RARRAY_PTR(ary), pend = p + RARRAY_LEN(ary); p &lt; pend; p++) {
            if (RTEST(rb_yield(*p))) n++;
        }
    }
    else {
        VALUE obj, *p, *pend;

        rb_scan_args(argc, argv, &quot;1&quot;, &amp;obj);
        if (rb_block_given_p()) {
            rb_warn(&quot;given block not used&quot;);
        }
        for (p = RARRAY_PTR(ary), pend = p + RARRAY_LEN(ary); p &lt; pend; p++) {
            if (rb_equal(*p, obj)) n++;
        }
    }

    return LONG2NUM(n);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-cycle">
            
              <b>ary.cycle(n=nil) {|obj| block }  &rarr; nil
ary.cycle(n=nil)                 &rarr; an_enumerator
</b>
            
            <a href="../classes/Array.html#method-i-cycle" name="method-i-cycle" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Calls <em>block</em> for each element repeatedly <em>n</em> times or
forever if none or <code>nil</code> is given.  If a non-positive number is
given or the array is empty, does nothing.  Returns <code>nil</code> if the
loop has finished without getting interrupted.</p>

<p>If no block is given, an enumerator is returned instead.</p>

<pre class="ruby"><span class="ruby-identifier">a</span> = [<span class="ruby-string">&quot;a&quot;</span>, <span class="ruby-string">&quot;b&quot;</span>, <span class="ruby-string">&quot;c&quot;</span>]
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">cycle</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">puts</span> <span class="ruby-identifier">x</span> }  <span class="ruby-comment"># print, a, b, c, a, b, c,.. forever.</span>
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">cycle</span>(<span class="ruby-value">2</span>) {<span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">puts</span> <span class="ruby-identifier">x</span> }  <span class="ruby-comment"># print, a, b, c, a, b, c.</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-cycle_source')" id="l_method-i-cycle_source">show</a>
                
              </p>
              <div id="method-i-cycle_source" class="dyn-source">
                <pre>static VALUE
rb_ary_cycle(int argc, VALUE *argv, VALUE ary)
{
    long n, i;
    VALUE nv = Qnil;

    rb_scan_args(argc, argv, &quot;01&quot;, &amp;nv);

    RETURN_ENUMERATOR(ary, argc, argv);
    if (NIL_P(nv)) {
        n = -1;
    }
    else {
        n = NUM2LONG(nv);
        if (n &lt;= 0) return Qnil;
    }

    while (RARRAY_LEN(ary) &gt; 0 &amp;&amp; (n &lt; 0 || 0 &lt; n--)) {
        for (i=0; i&lt;RARRAY_LEN(ary); i++) {
            rb_yield(RARRAY_PTR(ary)[i]);
        }
    }
    return Qnil;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-delete">
            
              <b>ary.delete(obj)            &rarr; obj or nil
ary.delete(obj) { block }  &rarr; obj or nil
</b>
            
            <a href="../classes/Array.html#method-i-delete" name="method-i-delete" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Deletes items from <code>self</code> that are equal to <em>obj</em>. If any
items are found, returns <em>obj</em>.   If the item is not found, returns
<code>nil</code>. If the optional code block is given, returns the result
of <em>block</em> if the item is not found.  (To remove <code>nil</code>
elements and get an informative return value, use <a
href="Array.html#method-i-compact-21">compact!</a>)</p>

<pre class="ruby"><span class="ruby-identifier">a</span> = [ <span class="ruby-string">&quot;a&quot;</span>, <span class="ruby-string">&quot;b&quot;</span>, <span class="ruby-string">&quot;b&quot;</span>, <span class="ruby-string">&quot;b&quot;</span>, <span class="ruby-string">&quot;c&quot;</span> ]
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-string">&quot;b&quot;</span>)                   <span class="ruby-comment">#=&gt; &quot;b&quot;</span>
<span class="ruby-identifier">a</span>                               <span class="ruby-comment">#=&gt; [&quot;a&quot;, &quot;c&quot;]</span>
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-string">&quot;z&quot;</span>)                   <span class="ruby-comment">#=&gt; nil</span>
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-string">&quot;z&quot;</span>) { <span class="ruby-string">&quot;not found&quot;</span> }   <span class="ruby-comment">#=&gt; &quot;not found&quot;</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-delete_source')" id="l_method-i-delete_source">show</a>
                
              </p>
              <div id="method-i-delete_source" class="dyn-source">
                <pre>VALUE
rb_ary_delete(VALUE ary, VALUE item)
{
    VALUE v = item;
    long i1, i2;

    for (i1 = i2 = 0; i1 &lt; RARRAY_LEN(ary); i1++) {
        VALUE e = RARRAY_PTR(ary)[i1];

        if (rb_equal(e, item)) {
            v = e;
            continue;
        }
        if (i1 != i2) {
            rb_ary_store(ary, i2, e);
        }
        i2++;
    }
    if (RARRAY_LEN(ary) == i2) {
        if (rb_block_given_p()) {
            return rb_yield(item);
        }
        return Qnil;
    }

    rb_ary_modify(ary);
    if (RARRAY_LEN(ary) &gt; i2) {
        ARY_SET_LEN(ary, i2);
        if (i2 * 2 &lt; ARY_CAPA(ary) &amp;&amp;
            ARY_CAPA(ary) &gt; ARY_DEFAULT_SIZE) {
            ary_resize_capa(ary, i2*2);
        }
    }

    return v;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-delete_at">
            
              <b>ary.delete_at(index)  &rarr; obj or nil
</b>
            
            <a href="../classes/Array.html#method-i-delete_at" name="method-i-delete_at" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Deletes the element at the specified index, returning that element, or
<code>nil</code> if the index is out of range. See also
<code>Array#slice!</code>.</p>

<pre class="ruby"><span class="ruby-identifier">a</span> = <span class="ruby-node">%w( ant bat cat dog )</span>
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">delete_at</span>(<span class="ruby-value">2</span>)    <span class="ruby-comment">#=&gt; &quot;cat&quot;</span>
<span class="ruby-identifier">a</span>                 <span class="ruby-comment">#=&gt; [&quot;ant&quot;, &quot;bat&quot;, &quot;dog&quot;]</span>
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">delete_at</span>(<span class="ruby-value">99</span>)   <span class="ruby-comment">#=&gt; nil</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-delete_at_source')" id="l_method-i-delete_at_source">show</a>
                
              </p>
              <div id="method-i-delete_at_source" class="dyn-source">
                <pre>static VALUE
rb_ary_delete_at_m(VALUE ary, VALUE pos)
{
    return rb_ary_delete_at(ary, NUM2LONG(pos));
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-delete_if">
            
              <b>ary.delete_if {|item| block }  &rarr; ary
ary.delete_if                  &rarr; an_enumerator
</b>
            
            <a href="../classes/Array.html#method-i-delete_if" name="method-i-delete_if" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Deletes every element of <code>self</code> for which <em>block</em>
evaluates to true. See also <code>Array#reject!</code></p>

<p>If no block is given, an enumerator is returned instead.</p>

<pre class="ruby"><span class="ruby-identifier">a</span> = [ <span class="ruby-string">&quot;a&quot;</span>, <span class="ruby-string">&quot;b&quot;</span>, <span class="ruby-string">&quot;c&quot;</span> ]
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">delete_if</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">x</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-string">&quot;b&quot;</span> }   <span class="ruby-comment">#=&gt; [&quot;a&quot;]</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-delete_if_source')" id="l_method-i-delete_if_source">show</a>
                
              </p>
              <div id="method-i-delete_if_source" class="dyn-source">
                <pre>static VALUE
rb_ary_delete_if(VALUE ary)
{
    RETURN_ENUMERATOR(ary, 0, 0);
    rb_ary_reject_bang(ary);
    return ary;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-drop">
            
              <b>ary.drop(n)               &rarr; new_ary
</b>
            
            <a href="../classes/Array.html#method-i-drop" name="method-i-drop" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Drops first n elements from <em>ary</em>, and returns rest elements in an
array.</p>

<pre class="ruby"><span class="ruby-identifier">a</span> = [<span class="ruby-value">1</span>, <span class="ruby-value">2</span>, <span class="ruby-value">3</span>, <span class="ruby-value">4</span>, <span class="ruby-value">5</span>, <span class="ruby-value">0</span>]
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">drop</span>(<span class="ruby-value">3</span>)             <span class="ruby-comment">#=&gt; [4, 5, 0]</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-drop_source')" id="l_method-i-drop_source">show</a>
                
              </p>
              <div id="method-i-drop_source" class="dyn-source">
                <pre>static VALUE
rb_ary_drop(VALUE ary, VALUE n)
{
    VALUE result;
    long pos = NUM2LONG(n);
    if (pos &lt; 0) {
        rb_raise(rb_eArgError, &quot;attempt to drop negative size&quot;);
    }

    result = rb_ary_subseq(ary, pos, RARRAY_LEN(ary));
    if (result == Qnil) result = rb_ary_new();
    return result;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-drop_while">
            
              <b>ary.drop_while {|arr| block }   &rarr; new_ary
ary.drop_while                  &rarr; an_enumerator
</b>
            
            <a href="../classes/Array.html#method-i-drop_while" name="method-i-drop_while" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Drops elements up to, but not including, the first element for which the
block returns <code>nil</code> or <code>false</code> and returns an array
containing the remaining elements.</p>

<p>If no block is given, an enumerator is returned instead.</p>

<pre class="ruby"><span class="ruby-identifier">a</span> = [<span class="ruby-value">1</span>, <span class="ruby-value">2</span>, <span class="ruby-value">3</span>, <span class="ruby-value">4</span>, <span class="ruby-value">5</span>, <span class="ruby-value">0</span>]
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">drop_while</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span> <span class="ruby-identifier">i</span> <span class="ruby-operator">&lt;</span> <span class="ruby-value">3</span> }   <span class="ruby-comment">#=&gt; [3, 4, 5, 0]</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-drop_while_source')" id="l_method-i-drop_while_source">show</a>
                
              </p>
              <div id="method-i-drop_while_source" class="dyn-source">
                <pre>static VALUE
rb_ary_drop_while(VALUE ary)
{
    long i;

    RETURN_ENUMERATOR(ary, 0, 0);
    for (i = 0; i &lt; RARRAY_LEN(ary); i++) {
        if (!RTEST(rb_yield(RARRAY_PTR(ary)[i]))) break;
    }
    return rb_ary_drop(ary, LONG2FIX(i));
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-each">
            
              <b>ary.each {|item| block }   &rarr; ary
ary.each                   &rarr; an_enumerator
</b>
            
            <a href="../classes/Array.html#method-i-each" name="method-i-each" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Calls <em>block</em> once for each element in <code>self</code>, passing
that element as a parameter.</p>

<p>If no block is given, an enumerator is returned instead.</p>

<pre class="ruby"><span class="ruby-identifier">a</span> = [ <span class="ruby-string">&quot;a&quot;</span>, <span class="ruby-string">&quot;b&quot;</span>, <span class="ruby-string">&quot;c&quot;</span> ]
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">each</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">print</span> <span class="ruby-identifier">x</span>, <span class="ruby-string">&quot; -- &quot;</span> }
</pre>

<p>produces:</p>

<pre>a -- b -- c --</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-each_source')" id="l_method-i-each_source">show</a>
                
              </p>
              <div id="method-i-each_source" class="dyn-source">
                <pre>VALUE
rb_ary_each(VALUE ary)
{
    long i;

    RETURN_ENUMERATOR(ary, 0, 0);
    for (i=0; i&lt;RARRAY_LEN(ary); i++) {
        rb_yield(RARRAY_PTR(ary)[i]);
    }
    return ary;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-each_index">
            
              <b>ary.each_index {|index| block }  &rarr; ary
ary.each_index                   &rarr; an_enumerator
</b>
            
            <a href="../classes/Array.html#method-i-each_index" name="method-i-each_index" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Same as <code>Array#each</code>, but passes the index of the element
instead of the element itself.</p>

<p>If no block is given, an enumerator is returned instead.</p>

<pre class="ruby"><span class="ruby-identifier">a</span> = [ <span class="ruby-string">&quot;a&quot;</span>, <span class="ruby-string">&quot;b&quot;</span>, <span class="ruby-string">&quot;c&quot;</span> ]
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">each_index</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">print</span> <span class="ruby-identifier">x</span>, <span class="ruby-string">&quot; -- &quot;</span> }
</pre>

<p>produces:</p>

<pre>0 -- 1 -- 2 --</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-each_index_source')" id="l_method-i-each_index_source">show</a>
                
              </p>
              <div id="method-i-each_index_source" class="dyn-source">
                <pre>static VALUE
rb_ary_each_index(VALUE ary)
{
    long i;
    RETURN_ENUMERATOR(ary, 0, 0);

    for (i=0; i&lt;RARRAY_LEN(ary); i++) {
        rb_yield(LONG2NUM(i));
    }
    return ary;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-empty-3F">
            
              <b>ary.empty?   &rarr; true or false
</b>
            
            <a href="../classes/Array.html#method-i-empty-3F" name="method-i-empty-3F" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns <code>true</code> if <code>self</code> contains no elements.</p>

<pre class="ruby">[].<span class="ruby-identifier">empty?</span>   <span class="ruby-comment">#=&gt; true</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-empty-3F_source')" id="l_method-i-empty-3F_source">show</a>
                
              </p>
              <div id="method-i-empty-3F_source" class="dyn-source">
                <pre>static VALUE
rb_ary_empty_p(VALUE ary)
{
    if (RARRAY_LEN(ary) == 0)
        return Qtrue;
    return Qfalse;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-eql-3F">
            
              <b>ary.eql?(other)  &rarr; true or false
</b>
            
            <a href="../classes/Array.html#method-i-eql-3F" name="method-i-eql-3F" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns <code>true</code> if <code>self</code> and <em>other</em> are the
same object, or are both arrays with the same content.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-eql-3F_source')" id="l_method-i-eql-3F_source">show</a>
                
              </p>
              <div id="method-i-eql-3F_source" class="dyn-source">
                <pre>static VALUE
rb_ary_eql(VALUE ary1, VALUE ary2)
{
    if (ary1 == ary2) return Qtrue;
    if (TYPE(ary2) != T_ARRAY) return Qfalse;
    if (RARRAY_LEN(ary1) != RARRAY_LEN(ary2)) return Qfalse;
    return rb_exec_recursive_paired(recursive_eql, ary1, ary2, ary2);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-fetch">
            
              <b>ary.fetch(index)                    &rarr; obj
ary.fetch(index, default )          &rarr; obj
ary.fetch(index) {|index| block }   &rarr; obj
</b>
            
            <a href="../classes/Array.html#method-i-fetch" name="method-i-fetch" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Tries to return the element at position <em>index</em>. If the index lies
outside the array, the first form throws an <code>IndexError</code>
exception, the second form returns <em>default</em>, and the third form
returns the value of invoking the block, passing in the index. Negative
values of <em>index</em> count from the end of the array.</p>

<pre class="ruby"><span class="ruby-identifier">a</span> = [ <span class="ruby-value">11</span>, <span class="ruby-value">22</span>, <span class="ruby-value">33</span>, <span class="ruby-value">44</span> ]
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-value">1</span>)               <span class="ruby-comment">#=&gt; 22</span>
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-value">-1</span>)              <span class="ruby-comment">#=&gt; 44</span>
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-value">4</span>, <span class="ruby-string">'cat'</span>)        <span class="ruby-comment">#=&gt; &quot;cat&quot;</span>
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-value">4</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span> <span class="ruby-identifier">i</span>*<span class="ruby-identifier">i</span> }   <span class="ruby-comment">#=&gt; 16</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-fetch_source')" id="l_method-i-fetch_source">show</a>
                
              </p>
              <div id="method-i-fetch_source" class="dyn-source">
                <pre>static VALUE
rb_ary_fetch(int argc, VALUE *argv, VALUE ary)
{
    VALUE pos, ifnone;
    long block_given;
    long idx;

    rb_scan_args(argc, argv, &quot;11&quot;, &amp;pos, &amp;ifnone);
    block_given = rb_block_given_p();
    if (block_given &amp;&amp; argc == 2) {
        rb_warn(&quot;block supersedes default value argument&quot;);
    }
    idx = NUM2LONG(pos);

    if (idx &lt; 0) {
        idx +=  RARRAY_LEN(ary);
    }
    if (idx &lt; 0 || RARRAY_LEN(ary) &lt;= idx) {
        if (block_given) return rb_yield(pos);
        if (argc == 1) {
            rb_raise(rb_eIndexError, &quot;index %ld outside of array bounds: %ld...%ld&quot;,
                        idx - (idx &lt; 0 ? RARRAY_LEN(ary) : 0), -RARRAY_LEN(ary), RARRAY_LEN(ary));
        }
        return ifnone;
    }
    return RARRAY_PTR(ary)[idx];
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-fill">
            
              <b>ary.fill(obj)                                &rarr; ary
ary.fill(obj, start [, length])              &rarr; ary
ary.fill(obj, range )                        &rarr; ary
ary.fill {|index| block }                    &rarr; ary
ary.fill(start [, length] ) {|index| block } &rarr; ary
ary.fill(range) {|index| block }             &rarr; ary
</b>
            
            <a href="../classes/Array.html#method-i-fill" name="method-i-fill" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>The first three forms set the selected elements of <code>self</code> (which
may be the entire array) to <em>obj</em>. A <em>start</em> of
<code>nil</code> is equivalent to zero. A <em>length</em> of
<code>nil</code> is equivalent to <em>self.length</em>. The last three
forms fill the array with the value of the block. The block is passed the
absolute index of each element to be filled. Negative values of
<em>start</em> count from the end of the array.</p>

<pre class="ruby"><span class="ruby-identifier">a</span> = [ <span class="ruby-string">&quot;a&quot;</span>, <span class="ruby-string">&quot;b&quot;</span>, <span class="ruby-string">&quot;c&quot;</span>, <span class="ruby-string">&quot;d&quot;</span> ]
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">fill</span>(<span class="ruby-string">&quot;x&quot;</span>)              <span class="ruby-comment">#=&gt; [&quot;x&quot;, &quot;x&quot;, &quot;x&quot;, &quot;x&quot;]</span>
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">fill</span>(<span class="ruby-string">&quot;z&quot;</span>, <span class="ruby-value">2</span>, <span class="ruby-value">2</span>)        <span class="ruby-comment">#=&gt; [&quot;x&quot;, &quot;x&quot;, &quot;z&quot;, &quot;z&quot;]</span>
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">fill</span>(<span class="ruby-string">&quot;y&quot;</span>, <span class="ruby-value">0</span><span class="ruby-operator">..</span><span class="ruby-value">1</span>)        <span class="ruby-comment">#=&gt; [&quot;y&quot;, &quot;y&quot;, &quot;z&quot;, &quot;z&quot;]</span>
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">fill</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span> <span class="ruby-identifier">i</span>*<span class="ruby-identifier">i</span>}         <span class="ruby-comment">#=&gt; [0, 1, 4, 9]</span>
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">fill</span>(<span class="ruby-value">-2</span>) {<span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span> <span class="ruby-identifier">i</span>*<span class="ruby-identifier">i</span>*<span class="ruby-identifier">i</span>}   <span class="ruby-comment">#=&gt; [0, 1, 8, 27]</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-fill_source')" id="l_method-i-fill_source">show</a>
                
              </p>
              <div id="method-i-fill_source" class="dyn-source">
                <pre>static VALUE
rb_ary_fill(int argc, VALUE *argv, VALUE ary)
{
    VALUE item, arg1, arg2;
    long beg = 0, end = 0, len = 0;
    VALUE *p, *pend;
    int block_p = FALSE;

    if (rb_block_given_p()) {
        block_p = TRUE;
        rb_scan_args(argc, argv, &quot;02&quot;, &amp;arg1, &amp;arg2);
        argc += 1;             /* hackish */
    }
    else {
        rb_scan_args(argc, argv, &quot;12&quot;, &amp;item, &amp;arg1, &amp;arg2);
    }
    switch (argc) {
      case 1:
        beg = 0;
        len = RARRAY_LEN(ary);
        break;
      case 2:
        if (rb_range_beg_len(arg1, &amp;beg, &amp;len, RARRAY_LEN(ary), 1)) {
            break;
        }
        /* fall through */
      case 3:
        beg = NIL_P(arg1) ? 0 : NUM2LONG(arg1);
        if (beg &lt; 0) {
            beg = RARRAY_LEN(ary) + beg;
            if (beg &lt; 0) beg = 0;
        }
        len = NIL_P(arg2) ? RARRAY_LEN(ary) - beg : NUM2LONG(arg2);
        break;
    }
    rb_ary_modify(ary);
    if (len &lt; 0) {
        return ary;
    }
    if (beg &gt;= ARY_MAX_SIZE || len &gt; ARY_MAX_SIZE - beg) {
        rb_raise(rb_eArgError, &quot;argument too big&quot;);
    }
    end = beg + len;
    if (RARRAY_LEN(ary) &lt; end) {
        if (end &gt;= ARY_CAPA(ary)) {
            ary_resize_capa(ary, end);
        }
        rb_mem_clear(RARRAY_PTR(ary) + RARRAY_LEN(ary), end - RARRAY_LEN(ary));
        ARY_SET_LEN(ary, end);
    }

    if (block_p) {
        VALUE v;
        long i;

        for (i=beg; i&lt;end; i++) {
            v = rb_yield(LONG2NUM(i));
            if (i&gt;=RARRAY_LEN(ary)) break;
            RARRAY_PTR(ary)[i] = v;
        }
    }
    else {
        p = RARRAY_PTR(ary) + beg;
        pend = p + len;
        while (p &lt; pend) {
            *p++ = item;
        }
    }
    return ary;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-find_index">
            
              <b>ary.index(obj)           &rarr;  int or nil
ary.index {|item| block} &rarr;  int or nil
ary.index                &rarr;  an_enumerator
</b>
            
            <a href="../classes/Array.html#method-i-find_index" name="method-i-find_index" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns the index of the first object in <code>self</code> such that is
<code>==</code> to <em>obj</em>. If a block is given instead of an
argument, returns first object for which <em>block</em> is true. Returns
<code>nil</code> if no match is found. See also <code>Array#rindex</code>.</p>

<p>If neither block nor argument is given, an enumerator is returned instead.</p>

<pre class="ruby"><span class="ruby-identifier">a</span> = [ <span class="ruby-string">&quot;a&quot;</span>, <span class="ruby-string">&quot;b&quot;</span>, <span class="ruby-string">&quot;c&quot;</span> ]
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">index</span>(<span class="ruby-string">&quot;b&quot;</span>)        <span class="ruby-comment">#=&gt; 1</span>
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">index</span>(<span class="ruby-string">&quot;z&quot;</span>)        <span class="ruby-comment">#=&gt; nil</span>
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">index</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">==</span><span class="ruby-string">&quot;b&quot;</span>}  <span class="ruby-comment">#=&gt; 1</span>
</pre>

<p>This is an alias of <code>#find_index</code>.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-find_index_source')" id="l_method-i-find_index_source">show</a>
                
              </p>
              <div id="method-i-find_index_source" class="dyn-source">
                <pre>static VALUE
rb_ary_index(int argc, VALUE *argv, VALUE ary)
{
    VALUE val;
    long i;

    if (argc == 0) {
        RETURN_ENUMERATOR(ary, 0, 0);
        for (i=0; i&lt;RARRAY_LEN(ary); i++) {
            if (RTEST(rb_yield(RARRAY_PTR(ary)[i]))) {
                return LONG2NUM(i);
            }
        }
        return Qnil;
    }
    rb_scan_args(argc, argv, &quot;1&quot;, &amp;val);
    if (rb_block_given_p())
        rb_warn(&quot;given block not used&quot;);
    for (i=0; i&lt;RARRAY_LEN(ary); i++) {
        if (rb_equal(RARRAY_PTR(ary)[i], val))
            return LONG2NUM(i);
    }
    return Qnil;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-first">
            
              <b>ary.first     &rarr;   obj or nil
ary.first(n)  &rarr;   new_ary
</b>
            
            <a href="../classes/Array.html#method-i-first" name="method-i-first" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns the first element, or the first <code>n</code> elements, of the
array. If the array is empty, the first form returns <code>nil</code>, and
the second form returns an empty array.</p>

<pre class="ruby"><span class="ruby-identifier">a</span> = [ <span class="ruby-string">&quot;q&quot;</span>, <span class="ruby-string">&quot;r&quot;</span>, <span class="ruby-string">&quot;s&quot;</span>, <span class="ruby-string">&quot;t&quot;</span> ]
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">first</span>     <span class="ruby-comment">#=&gt; &quot;q&quot;</span>
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">first</span>(<span class="ruby-value">2</span>)  <span class="ruby-comment">#=&gt; [&quot;q&quot;, &quot;r&quot;]</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-first_source')" id="l_method-i-first_source">show</a>
                
              </p>
              <div id="method-i-first_source" class="dyn-source">
                <pre>static VALUE
rb_ary_first(int argc, VALUE *argv, VALUE ary)
{
    if (argc == 0) {
        if (RARRAY_LEN(ary) == 0) return Qnil;
        return RARRAY_PTR(ary)[0];
    }
    else {
        return ary_take_first_or_last(argc, argv, ary, ARY_TAKE_FIRST);
    }
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-flatten">
            
              <b>ary.flatten &rarr; new_ary
ary.flatten(level) &rarr; new_ary
</b>
            
            <a href="../classes/Array.html#method-i-flatten" name="method-i-flatten" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns a new array that is a one-dimensional flattening of this array
(recursively). That is, for every element that is an array, extract its
elements into the new array.  If the optional <em>level</em> argument
determines the level of recursion to flatten.</p>

<pre class="ruby"><span class="ruby-identifier">s</span> = [ <span class="ruby-value">1</span>, <span class="ruby-value">2</span>, <span class="ruby-value">3</span> ]           <span class="ruby-comment">#=&gt; [1, 2, 3]</span>
<span class="ruby-identifier">t</span> = [ <span class="ruby-value">4</span>, <span class="ruby-value">5</span>, <span class="ruby-value">6</span>, [<span class="ruby-value">7</span>, <span class="ruby-value">8</span>] ]   <span class="ruby-comment">#=&gt; [4, 5, 6, [7, 8]]</span>
<span class="ruby-identifier">a</span> = [ <span class="ruby-identifier">s</span>, <span class="ruby-identifier">t</span>, <span class="ruby-value">9</span>, <span class="ruby-value">10</span> ]       <span class="ruby-comment">#=&gt; [[1, 2, 3], [4, 5, 6, [7, 8]], 9, 10]</span>
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">flatten</span>                 <span class="ruby-comment">#=&gt; [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]</span>
<span class="ruby-identifier">a</span> = [ <span class="ruby-value">1</span>, <span class="ruby-value">2</span>, [<span class="ruby-value">3</span>, [<span class="ruby-value">4</span>, <span class="ruby-value">5</span>] ] ]
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">flatten</span>(<span class="ruby-value">1</span>)              <span class="ruby-comment">#=&gt; [1, 2, 3, [4, 5]]</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-flatten_source')" id="l_method-i-flatten_source">show</a>
                
              </p>
              <div id="method-i-flatten_source" class="dyn-source">
                <pre>static VALUE
rb_ary_flatten(int argc, VALUE *argv, VALUE ary)
{
    int mod = 0, level = -1;
    VALUE result, lv;

    rb_scan_args(argc, argv, &quot;01&quot;, &amp;lv);
    if (!NIL_P(lv)) level = NUM2INT(lv);
    if (level == 0) return ary_make_shared_copy(ary);

    result = flatten(ary, level, &amp;mod);
    OBJ_INFECT(result, ary);

    return result;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-flatten-21">
            
              <b>ary.flatten!        &rarr; ary or nil
ary.flatten!(level) &rarr; array or nil
</b>
            
            <a href="../classes/Array.html#method-i-flatten-21" name="method-i-flatten-21" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Flattens <code>self</code> in place. Returns <code>nil</code> if no
modifications were made (i.e., <em>ary</em> contains no subarrays.)  If the
optional <em>level</em> argument determines the level of recursion to
flatten.</p>

<pre class="ruby"><span class="ruby-identifier">a</span> = [ <span class="ruby-value">1</span>, <span class="ruby-value">2</span>, [<span class="ruby-value">3</span>, [<span class="ruby-value">4</span>, <span class="ruby-value">5</span>] ] ]
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">flatten!</span>   <span class="ruby-comment">#=&gt; [1, 2, 3, 4, 5]</span>
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">flatten!</span>   <span class="ruby-comment">#=&gt; nil</span>
<span class="ruby-identifier">a</span>            <span class="ruby-comment">#=&gt; [1, 2, 3, 4, 5]</span>
<span class="ruby-identifier">a</span> = [ <span class="ruby-value">1</span>, <span class="ruby-value">2</span>, [<span class="ruby-value">3</span>, [<span class="ruby-value">4</span>, <span class="ruby-value">5</span>] ] ]
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">flatten!</span>(<span class="ruby-value">1</span>) <span class="ruby-comment">#=&gt; [1, 2, 3, [4, 5]]</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-flatten-21_source')" id="l_method-i-flatten-21_source">show</a>
                
              </p>
              <div id="method-i-flatten-21_source" class="dyn-source">
                <pre>static VALUE
rb_ary_flatten_bang(int argc, VALUE *argv, VALUE ary)
{
    int mod = 0, level = -1;
    VALUE result, lv;

    rb_scan_args(argc, argv, &quot;01&quot;, &amp;lv);
    rb_ary_modify_check(ary);
    if (!NIL_P(lv)) level = NUM2INT(lv);
    if (level == 0) return Qnil;

    result = flatten(ary, level, &amp;mod);
    if (mod == 0) {
        ary_discard(result);
        return Qnil;
    }
    if (!(mod = ARY_EMBED_P(result))) rb_obj_freeze(result);
    rb_ary_replace(ary, result);
    if (mod) ARY_SET_EMBED_LEN(result, 0);

    return ary;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-frozen-3F">
            
              <b>ary.frozen?  &rarr; true or false
</b>
            
            <a href="../classes/Array.html#method-i-frozen-3F" name="method-i-frozen-3F" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Return <code>true</code> if this array is frozen (or temporarily frozen
while being sorted).</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-frozen-3F_source')" id="l_method-i-frozen-3F_source">show</a>
                
              </p>
              <div id="method-i-frozen-3F_source" class="dyn-source">
                <pre>static VALUE
rb_ary_frozen_p(VALUE ary)
{
    if (OBJ_FROZEN(ary)) return Qtrue;
    return Qfalse;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-hash">
            
              <b>ary.hash   &rarr; fixnum
</b>
            
            <a href="../classes/Array.html#method-i-hash" name="method-i-hash" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Compute a hash-code for this array. Two arrays with the same content will
have the same hash code (and will compare using <code>eql?</code>).</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-hash_source')" id="l_method-i-hash_source">show</a>
                
              </p>
              <div id="method-i-hash_source" class="dyn-source">
                <pre>static VALUE
rb_ary_hash(VALUE ary)
{
    return rb_exec_recursive_outer(recursive_hash, ary, 0);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-include-3F">
            
              <b>ary.include?(obj)   &rarr; true or false
</b>
            
            <a href="../classes/Array.html#method-i-include-3F" name="method-i-include-3F" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns <code>true</code> if the given object is present in
<code>self</code> (that is, if any object <code>==</code> <em>an<a
href="Object.html">Object</a></em>), <code>false</code> otherwise.</p>

<pre class="ruby"><span class="ruby-identifier">a</span> = [ <span class="ruby-string">&quot;a&quot;</span>, <span class="ruby-string">&quot;b&quot;</span>, <span class="ruby-string">&quot;c&quot;</span> ]
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-string">&quot;b&quot;</span>)   <span class="ruby-comment">#=&gt; true</span>
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-string">&quot;z&quot;</span>)   <span class="ruby-comment">#=&gt; false</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-include-3F_source')" id="l_method-i-include-3F_source">show</a>
                
              </p>
              <div id="method-i-include-3F_source" class="dyn-source">
                <pre>VALUE
rb_ary_includes(VALUE ary, VALUE item)
{
    long i;

    for (i=0; i&lt;RARRAY_LEN(ary); i++) {
        if (rb_equal(RARRAY_PTR(ary)[i], item)) {
            return Qtrue;
        }
    }
    return Qfalse;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-index">
            
              <b>ary.index(obj)           &rarr;  int or nil
ary.index {|item| block} &rarr;  int or nil
ary.index                &rarr;  an_enumerator
</b>
            
            <a href="../classes/Array.html#method-i-index" name="method-i-index" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns the index of the first object in <code>self</code> such that is
<code>==</code> to <em>obj</em>. If a block is given instead of an
argument, returns first object for which <em>block</em> is true. Returns
<code>nil</code> if no match is found. See also <code>Array#rindex</code>.</p>

<p>If neither block nor argument is given, an enumerator is returned instead.</p>

<pre class="ruby"><span class="ruby-identifier">a</span> = [ <span class="ruby-string">&quot;a&quot;</span>, <span class="ruby-string">&quot;b&quot;</span>, <span class="ruby-string">&quot;c&quot;</span> ]
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">index</span>(<span class="ruby-string">&quot;b&quot;</span>)        <span class="ruby-comment">#=&gt; 1</span>
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">index</span>(<span class="ruby-string">&quot;z&quot;</span>)        <span class="ruby-comment">#=&gt; nil</span>
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">index</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">==</span><span class="ruby-string">&quot;b&quot;</span>}  <span class="ruby-comment">#=&gt; 1</span>
</pre>

<p>This is an alias of <code>#find_index</code>.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-index_source')" id="l_method-i-index_source">show</a>
                
              </p>
              <div id="method-i-index_source" class="dyn-source">
                <pre>static VALUE
rb_ary_index(int argc, VALUE *argv, VALUE ary)
{
    VALUE val;
    long i;

    if (argc == 0) {
        RETURN_ENUMERATOR(ary, 0, 0);
        for (i=0; i&lt;RARRAY_LEN(ary); i++) {
            if (RTEST(rb_yield(RARRAY_PTR(ary)[i]))) {
                return LONG2NUM(i);
            }
        }
        return Qnil;
    }
    rb_scan_args(argc, argv, &quot;1&quot;, &amp;val);
    if (rb_block_given_p())
        rb_warn(&quot;given block not used&quot;);
    for (i=0; i&lt;RARRAY_LEN(ary); i++) {
        if (rb_equal(RARRAY_PTR(ary)[i], val))
            return LONG2NUM(i);
    }
    return Qnil;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-initialize_copy">
            
              <b>ary.replace(other_ary)  &rarr; ary
</b>
            
            <a href="../classes/Array.html#method-i-initialize_copy" name="method-i-initialize_copy" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Replaces the contents of <code>self</code> with the contents of
<em>other_ary</em>, truncating or expanding if necessary.</p>

<pre class="ruby"><span class="ruby-identifier">a</span> = [ <span class="ruby-string">&quot;a&quot;</span>, <span class="ruby-string">&quot;b&quot;</span>, <span class="ruby-string">&quot;c&quot;</span>, <span class="ruby-string">&quot;d&quot;</span>, <span class="ruby-string">&quot;e&quot;</span> ]
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">replace</span>([ <span class="ruby-string">&quot;x&quot;</span>, <span class="ruby-string">&quot;y&quot;</span>, <span class="ruby-string">&quot;z&quot;</span> ])   <span class="ruby-comment">#=&gt; [&quot;x&quot;, &quot;y&quot;, &quot;z&quot;]</span>
<span class="ruby-identifier">a</span>                              <span class="ruby-comment">#=&gt; [&quot;x&quot;, &quot;y&quot;, &quot;z&quot;]</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-initialize_copy_source')" id="l_method-i-initialize_copy_source">show</a>
                
              </p>
              <div id="method-i-initialize_copy_source" class="dyn-source">
                <pre>VALUE
rb_ary_replace(VALUE copy, VALUE orig)
{
    rb_ary_modify_check(copy);
    orig = to_ary(orig);
    if (copy == orig) return copy;

    if (RARRAY_LEN(orig) &lt;= RARRAY_EMBED_LEN_MAX) {
        VALUE *ptr;
        VALUE shared = 0;

        if (ARY_OWNS_HEAP_P(copy)) {
            xfree(RARRAY_PTR(copy));
        }
        else if (ARY_SHARED_P(copy)) {
            shared = ARY_SHARED(copy);
            FL_UNSET_SHARED(copy);
        }
        FL_SET_EMBED(copy);
        ptr = RARRAY_PTR(orig);
        MEMCPY(RARRAY_PTR(copy), ptr, VALUE, RARRAY_LEN(orig));
        if (shared) {
            rb_ary_decrement_share(shared);
        }
        ARY_SET_LEN(copy, RARRAY_LEN(orig));
    }
    else {
        VALUE shared = ary_make_shared(orig);
        if (ARY_OWNS_HEAP_P(copy)) {
            xfree(RARRAY_PTR(copy));
        }
        else {
            rb_ary_unshare_safe(copy);
        }
        FL_UNSET_EMBED(copy);
        ARY_SET_PTR(copy, RARRAY_PTR(orig));
        ARY_SET_LEN(copy, RARRAY_LEN(orig));
        rb_ary_set_shared(copy, shared);
    }
    return copy;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-insert">
            
              <b>ary.insert(index, obj...)  &rarr; ary
</b>
            
            <a href="../classes/Array.html#method-i-insert" name="method-i-insert" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Inserts the given values before the element with the given index (which may
be negative).</p>

<pre class="ruby"><span class="ruby-identifier">a</span> = <span class="ruby-node">%w{ a b c d }</span>
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">insert</span>(<span class="ruby-value">2</span>, <span class="ruby-value">99</span>)         <span class="ruby-comment">#=&gt; [&quot;a&quot;, &quot;b&quot;, 99, &quot;c&quot;, &quot;d&quot;]</span>
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">insert</span>(<span class="ruby-value">-2</span>, <span class="ruby-value">1</span>, <span class="ruby-value">2</span>, <span class="ruby-value">3</span>)   <span class="ruby-comment">#=&gt; [&quot;a&quot;, &quot;b&quot;, 99, &quot;c&quot;, 1, 2, 3, &quot;d&quot;]</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-insert_source')" id="l_method-i-insert_source">show</a>
                
              </p>
              <div id="method-i-insert_source" class="dyn-source">
                <pre>static VALUE
rb_ary_insert(int argc, VALUE *argv, VALUE ary)
{
    long pos;

    if (argc &lt; 1) {
        rb_raise(rb_eArgError, &quot;wrong number of arguments (at least 1)&quot;);
    }
    rb_ary_modify_check(ary);
    if (argc == 1) return ary;
    pos = NUM2LONG(argv[0]);
    if (pos == -1) {
        pos = RARRAY_LEN(ary);
    }
    if (pos &lt; 0) {
        pos++;
    }
    rb_ary_splice(ary, pos, 0, rb_ary_new4(argc - 1, argv + 1));
    return ary;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-inspect">
            
              <b>ary.to_s &rarr; string
ary.inspect  &rarr; string
</b>
            
            <a href="../classes/Array.html#method-i-inspect" name="method-i-inspect" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Creates a string representation of <code>self</code>.</p>
            </div>
          
          
          
            <div class="aka">
              Also aliased as: <a href="Array.html#method-i-to_s">to_s</a>
            </div>
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-inspect_source')" id="l_method-i-inspect_source">show</a>
                
              </p>
              <div id="method-i-inspect_source" class="dyn-source">
                <pre>static VALUE
rb_ary_inspect(VALUE ary)
{
    if (RARRAY_LEN(ary) == 0) return rb_usascii_str_new2(&quot;[]&quot;);
    return rb_exec_recursive(inspect_ary, ary, 0);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-join">
            
              <b>ary.join(sep=$,)    &rarr; str
</b>
            
            <a href="../classes/Array.html#method-i-join" name="method-i-join" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns a string created by converting each element of the array to a
string, separated by <em>sep</em>.</p>

<pre class="ruby">[ <span class="ruby-string">&quot;a&quot;</span>, <span class="ruby-string">&quot;b&quot;</span>, <span class="ruby-string">&quot;c&quot;</span> ].<span class="ruby-identifier">join</span>        <span class="ruby-comment">#=&gt; &quot;abc&quot;</span>
[ <span class="ruby-string">&quot;a&quot;</span>, <span class="ruby-string">&quot;b&quot;</span>, <span class="ruby-string">&quot;c&quot;</span> ].<span class="ruby-identifier">join</span>(<span class="ruby-string">&quot;-&quot;</span>)   <span class="ruby-comment">#=&gt; &quot;a-b-c&quot;</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-join_source')" id="l_method-i-join_source">show</a>
                
              </p>
              <div id="method-i-join_source" class="dyn-source">
                <pre>static VALUE
rb_ary_join_m(int argc, VALUE *argv, VALUE ary)
{
    VALUE sep;

    rb_scan_args(argc, argv, &quot;01&quot;, &amp;sep);
    if (NIL_P(sep)) sep = rb_output_fs;

    return rb_ary_join(ary, sep);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-keep_if">
            
              <b>ary.keep_if {|item| block } &rarr; ary
ary.keep_if                 &rarr; an_enumerator
</b>
            
            <a href="../classes/Array.html#method-i-keep_if" name="method-i-keep_if" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Deletes every element of <code>self</code> for which <em>block</em>
evaluates to false. See also <code>Array#select!</code></p>

<p>If no block is given, an enumerator is returned instead.</p>

<pre class="ruby"><span class="ruby-identifier">a</span> = <span class="ruby-node">%w{ a b c d e f }</span>
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">keep_if</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-identifier">v</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp">/[aeiou]/</span>}   <span class="ruby-comment">#=&gt; [&quot;a&quot;, &quot;e&quot;]</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-keep_if_source')" id="l_method-i-keep_if_source">show</a>
                
              </p>
              <div id="method-i-keep_if_source" class="dyn-source">
                <pre>static VALUE
rb_ary_keep_if(VALUE ary)
{
    RETURN_ENUMERATOR(ary, 0, 0);
    rb_ary_select_bang(ary);
    return ary;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-last">
            
              <b>ary.last     &rarr;  obj or nil
ary.last(n)  &rarr;  new_ary
</b>
            
            <a href="../classes/Array.html#method-i-last" name="method-i-last" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns the last element(s) of <code>self</code>. If the array is empty,
the first form returns <code>nil</code>.</p>

<pre class="ruby"><span class="ruby-identifier">a</span> = [ <span class="ruby-string">&quot;w&quot;</span>, <span class="ruby-string">&quot;x&quot;</span>, <span class="ruby-string">&quot;y&quot;</span>, <span class="ruby-string">&quot;z&quot;</span> ]
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">last</span>     <span class="ruby-comment">#=&gt; &quot;z&quot;</span>
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">last</span>(<span class="ruby-value">2</span>)  <span class="ruby-comment">#=&gt; [&quot;y&quot;, &quot;z&quot;]</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-last_source')" id="l_method-i-last_source">show</a>
                
              </p>
              <div id="method-i-last_source" class="dyn-source">
                <pre>VALUE
rb_ary_last(int argc, VALUE *argv, VALUE ary)
{
    if (argc == 0) {
        if (RARRAY_LEN(ary) == 0) return Qnil;
        return RARRAY_PTR(ary)[RARRAY_LEN(ary)-1];
    }
    else {
        return ary_take_first_or_last(argc, argv, ary, ARY_TAKE_LAST);
    }
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-length">
            
              <b>ary.length &rarr; int
</b>
            
            <a href="../classes/Array.html#method-i-length" name="method-i-length" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns the number of elements in <code>self</code>. May be zero.</p>

<pre class="ruby">[ <span class="ruby-value">1</span>, <span class="ruby-value">2</span>, <span class="ruby-value">3</span>, <span class="ruby-value">4</span>, <span class="ruby-value">5</span> ].<span class="ruby-identifier">length</span>   <span class="ruby-comment">#=&gt; 5</span>
</pre>
            </div>
          
          
          
            <div class="aka">
              Also aliased as: <a href="Array.html#method-i-size">size</a>
            </div>
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-length_source')" id="l_method-i-length_source">show</a>
                
              </p>
              <div id="method-i-length_source" class="dyn-source">
                <pre>static VALUE
rb_ary_length(VALUE ary)
{
    long len = RARRAY_LEN(ary);
    return LONG2NUM(len);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-map">
            
              <b>ary.collect {|item| block }  &rarr; new_ary
ary.map     {|item| block }  &rarr; new_ary
ary.collect                  &rarr; an_enumerator
ary.map                      &rarr; an_enumerator
</b>
            
            <a href="../classes/Array.html#method-i-map" name="method-i-map" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Invokes <em>block</em> once for each element of <code>self</code>. Creates
a new array containing the values returned by the block. See also
<code>Enumerable#collect</code>.</p>

<p>If no block is given, an enumerator is returned instead.</p>

<pre class="ruby"><span class="ruby-identifier">a</span> = [ <span class="ruby-string">&quot;a&quot;</span>, <span class="ruby-string">&quot;b&quot;</span>, <span class="ruby-string">&quot;c&quot;</span>, <span class="ruby-string">&quot;d&quot;</span> ]
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">collect</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">x</span> <span class="ruby-operator">+</span> <span class="ruby-string">&quot;!&quot;</span> }   <span class="ruby-comment">#=&gt; [&quot;a!&quot;, &quot;b!&quot;, &quot;c!&quot;, &quot;d!&quot;]</span>
<span class="ruby-identifier">a</span>                          <span class="ruby-comment">#=&gt; [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;]</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-map_source')" id="l_method-i-map_source">show</a>
                
              </p>
              <div id="method-i-map_source" class="dyn-source">
                <pre>static VALUE
rb_ary_collect(VALUE ary)
{
    long i;
    VALUE collect;

    RETURN_ENUMERATOR(ary, 0, 0);
    collect = rb_ary_new2(RARRAY_LEN(ary));
    for (i = 0; i &lt; RARRAY_LEN(ary); i++) {
        rb_ary_push(collect, rb_yield(RARRAY_PTR(ary)[i]));
    }
    return collect;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-map-21">
            
              <b>ary.collect! {|item| block }   &rarr; ary
ary.map!     {|item| block }   &rarr; ary
ary.collect                    &rarr; an_enumerator
ary.map                        &rarr; an_enumerator
</b>
            
            <a href="../classes/Array.html#method-i-map-21" name="method-i-map-21" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Invokes the block once for each element of <code>self</code>, replacing the
element with the value returned by <em>block</em>. See also
<code>Enumerable#collect</code>.</p>

<p>If no block is given, an enumerator is returned instead.</p>

<pre class="ruby"><span class="ruby-identifier">a</span> = [ <span class="ruby-string">&quot;a&quot;</span>, <span class="ruby-string">&quot;b&quot;</span>, <span class="ruby-string">&quot;c&quot;</span>, <span class="ruby-string">&quot;d&quot;</span> ]
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">collect!</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">x</span> <span class="ruby-operator">+</span> <span class="ruby-string">&quot;!&quot;</span> }
<span class="ruby-identifier">a</span>             <span class="ruby-comment">#=&gt;  [ &quot;a!&quot;, &quot;b!&quot;, &quot;c!&quot;, &quot;d!&quot; ]</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-map-21_source')" id="l_method-i-map-21_source">show</a>
                
              </p>
              <div id="method-i-map-21_source" class="dyn-source">
                <pre>static VALUE
rb_ary_collect_bang(VALUE ary)
{
    long i;

    RETURN_ENUMERATOR(ary, 0, 0);
    rb_ary_modify(ary);
    for (i = 0; i &lt; RARRAY_LEN(ary); i++) {
        rb_ary_store(ary, i, rb_yield(RARRAY_PTR(ary)[i]));
    }
    return ary;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-pack">
            
              <b>arr.pack ( aTemplateString ) &rarr; aBinaryString
</b>
            
            <a href="../classes/Array.html#method-i-pack" name="method-i-pack" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Packs the contents of <em>arr</em> into a binary sequence according to the
directives in <em>aTemplateString</em> (see the table below) Directives
“A,” “a,” and “Z” may be followed by a count, which gives the
width of the resulting field. The remaining directives also may take a
count, indicating the number of array elements to convert. If the count is
an asterisk (“<code>*</code>”), all remaining array elements will be
converted. Any of the directives “<code>sSiIlL</code>” may be followed
by an underscore (“<code>_</code>”) or exclamation mark
(“<code>!</code>”) to use the underlying platform’s native size for
the specified type; otherwise, they use a platform-independent size. Spaces
are ignored in the template string. See also <code>String#unpack</code>.</p>

<pre class="ruby"><span class="ruby-identifier">a</span> = [ <span class="ruby-string">&quot;a&quot;</span>, <span class="ruby-string">&quot;b&quot;</span>, <span class="ruby-string">&quot;c&quot;</span> ]
<span class="ruby-identifier">n</span> = [ <span class="ruby-value">65</span>, <span class="ruby-value">66</span>, <span class="ruby-value">67</span> ]
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">pack</span>(<span class="ruby-string">&quot;A3A3A3&quot;</span>)   <span class="ruby-comment">#=&gt; &quot;a  b  c  &quot;</span>
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">pack</span>(<span class="ruby-string">&quot;a3a3a3&quot;</span>)   <span class="ruby-comment">#=&gt; &quot;a\000\000b\000\000c\000\000&quot;</span>
<span class="ruby-identifier">n</span>.<span class="ruby-identifier">pack</span>(<span class="ruby-string">&quot;ccc&quot;</span>)      <span class="ruby-comment">#=&gt; &quot;ABC&quot;</span>
</pre>

<p>Directives for <code>pack</code>.</p>

<pre>Integer      | Array   |
Directive    | Element | Meaning
---------------------------------------------------------------------------
   C         | Integer | 8-bit unsigned integer (unsigned char)
   S         | Integer | 16-bit unsigned integer, native endian (uint16_t)
   L         | Integer | 32-bit unsigned integer, native endian (uint32_t)
   Q         | Integer | 64-bit unsigned integer, native endian (uint64_t)
             |         |
   c         | Integer | 8-bit signed integer (char)
   s         | Integer | 16-bit signed integer, native endian (int16_t)
   l         | Integer | 32-bit signed integer, native endian (int32_t)
   q         | Integer | 64-bit signed integer, native endian (int64_t)
             |         |
   S_, S!    | Integer | unsigned short, native endian
   I, I_, I! | Integer | unsigned int, native endian
   L_, L!    | Integer | unsigned long, native endian
             |         |
   s_, s!    | Integer | signed short, native endian
   i, i_, i! | Integer | signed int, native endian
   l_, l!    | Integer | signed long, native endian
             |         |
   n         | Integer | 16-bit unsigned integer, network (big-endian) byte order
   N         | Integer | 32-bit unsigned integer, network (big-endian) byte order
   v         | Integer | 16-bit unsigned integer, VAX (little-endian) byte order
   V         | Integer | 32-bit unsigned integer, VAX (little-endian) byte order
             |         |
   U         | Integer | UTF-8 character
   w         | Integer | BER-compressed integer

Float        |         |
Directive    |         | Meaning
---------------------------------------------------------------------------
   D, d      | Float   | double-precision float, native format
   F, f      | Float   | single-precision float, native format
   E         | Float   | double-precision float, little-endian byte order
   e         | Float   | single-precision float, little-endian byte order
   G         | Float   | double-precision float, network (big-endian) byte order
   g         | Float   | single-precision float, network (big-endian) byte order

String       |         |
Directive    |         | Meaning
---------------------------------------------------------------------------
   A         | String  | arbitrary binary string (space padded, count is width)
   a         | String  | arbitrary binary string (null padded, count is width)
   Z         | String  | same as ``a'', except that null is added with *
   B         | String  | bit string (MSB first)
   b         | String  | bit string (LSB first)
   H         | String  | hex string (high nibble first)
   h         | String  | hex string (low nibble first)
   u         | String  | UU-encoded string
   M         | String  | quoted printable, MIME encoding (see RFC2045)
   m         | String  | base64 encoded string (see RFC 2045, count is width)
             |         | (if count is 0, no line feed are added, see RFC 4648)
   P         | String  | pointer to a structure (fixed-length string)
   p         | String  | pointer to a null-terminated string

Misc.        |         |
Directive    |         | Meaning
---------------------------------------------------------------------------
   @         | ---     | moves to absolute position
   X         | ---     | back up a byte
   x         | ---     | null byte</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-pack_source')" id="l_method-i-pack_source">show</a>
                
              </p>
              <div id="method-i-pack_source" class="dyn-source">
                <pre>static VALUE
pack_pack(VALUE ary, VALUE fmt)
{
    static const char nul10[] = &quot;\0\0\0\0\0\0\0\0\0\0&quot;;
    static const char spc10[] = &quot;          &quot;;
    const char *p, *pend;
    VALUE res, from, associates = 0;
    char type;
    long items, len, idx, plen;
    const char *ptr;
    int enc_info = 1;           /* 0 - BINARY, 1 - US-ASCII, 2 - UTF-8 */
#ifdef NATINT_PACK
    int natint;         /* native integer */
#endif
    int signed_p, integer_size, bigendian_p;

    StringValue(fmt);
    p = RSTRING_PTR(fmt);
    pend = p + RSTRING_LEN(fmt);
    res = rb_str_buf_new(0);

    items = RARRAY_LEN(ary);
    idx = 0;

#define TOO_FEW (rb_raise(rb_eArgError, toofew), 0)
#define THISFROM (items &gt; 0 ? RARRAY_PTR(ary)[idx] : TOO_FEW)
#define NEXTFROM (items-- &gt; 0 ? RARRAY_PTR(ary)[idx++] : TOO_FEW)

    while (p &lt; pend) {
        if (RSTRING_PTR(fmt) + RSTRING_LEN(fmt) != pend) {
            rb_raise(rb_eRuntimeError, &quot;format string modified&quot;);
        }
        type = *p++;           /* get data type */
#ifdef NATINT_PACK
        natint = 0;
#endif

        if (ISSPACE(type)) continue;
        if (type == '#') {
            while ((p &lt; pend) &amp;&amp; (*p != '\n')) {
                p++;
            }
            continue;
        }
        if (*p == '_' || *p == '!') {
            static const char natstr[] = &quot;sSiIlL&quot;;

            if (strchr(natstr, type)) {
#ifdef NATINT_PACK
                natint = 1;
#endif
                p++;
            }
            else {
                rb_raise(rb_eArgError, &quot;'%c' allowed only after types %s&quot;, *p, natstr);
            }
        }
        if (*p == '*') {       /* set data length */
            len = strchr(&quot;@Xxu&quot;, type) ? 0
                : strchr(&quot;PMm&quot;, type) ? 1
                : items;
            p++;
        }
        else if (ISDIGIT(*p)) {
            errno = 0;
            len = STRTOUL(p, (char**)&amp;p, 10);
            if (errno) {
                rb_raise(rb_eRangeError, &quot;pack length too big&quot;);
            }
        }
        else {
            len = 1;
        }

        switch (type) {
          case 'U':
            /* if encoding is US-ASCII, upgrade to UTF-8 */
            if (enc_info == 1) enc_info = 2;
            break;
          case 'm': case 'M': case 'u':
            /* keep US-ASCII (do nothing) */
            break;
          default:
            /* fall back to BINARY */
            enc_info = 0;
            break;
        }
        switch (type) {
          case 'A': case 'a': case 'Z':
          case 'B': case 'b':
          case 'H': case 'h':
            from = NEXTFROM;
            if (NIL_P(from)) {
                ptr = &quot;&quot;;
                plen = 0;
            }
            else {
                StringValue(from);
                ptr = RSTRING_PTR(from);
                plen = RSTRING_LEN(from);
                OBJ_INFECT(res, from);
            }

            if (p[-1] == '*')
                len = plen;

            switch (type) {
              case 'a':                /* arbitrary binary string (null padded)  */
              case 'A':         /* arbitrary binary string (ASCII space padded) */
              case 'Z':         /* null terminated string  */
                if (plen &gt;= len) {
                    rb_str_buf_cat(res, ptr, len);
                    if (p[-1] == '*' &amp;&amp; type == 'Z')
                        rb_str_buf_cat(res, nul10, 1);
                }
                else {
                    rb_str_buf_cat(res, ptr, plen);
                    len -= plen;
                    while (len &gt;= 10) {
                        rb_str_buf_cat(res, (type == 'A')?spc10:nul10, 10);
                        len -= 10;
                    }
                    rb_str_buf_cat(res, (type == 'A')?spc10:nul10, len);
                }
                break;

              case 'b':                /* bit string (ascending) */
                {
                    int byte = 0;
                    long i, j = 0;

                    if (len &gt; plen) {
                        j = (len - plen + 1)/2;
                        len = plen;
                    }
                    for (i=0; i++ &lt; len; ptr++) {
                        if (*ptr &amp; 1)
                            byte |= 128;
                        if (i &amp; 7)
                            byte &gt;&gt;= 1;
                        else {
                            char c = byte &amp; 0xff;
                            rb_str_buf_cat(res, &amp;c, 1);
                            byte = 0;
                        }
                    }
                    if (len &amp; 7) {
                        char c;
                        byte &gt;&gt;= 7 - (len &amp; 7);
                        c = byte &amp; 0xff;
                        rb_str_buf_cat(res, &amp;c, 1);
                    }
                    len = j;
                    goto grow;
                }
                break;

              case 'B':                /* bit string (descending) */
                {
                    int byte = 0;
                    long i, j = 0;

                    if (len &gt; plen) {
                        j = (len - plen + 1)/2;
                        len = plen;
                    }
                    for (i=0; i++ &lt; len; ptr++) {
                        byte |= *ptr &amp; 1;
                        if (i &amp; 7)
                            byte &lt;&lt;= 1;
                        else {
                            char c = byte &amp; 0xff;
                            rb_str_buf_cat(res, &amp;c, 1);
                            byte = 0;
                        }
                    }
                    if (len &amp; 7) {
                        char c;
                        byte &lt;&lt;= 7 - (len &amp; 7);
                        c = byte &amp; 0xff;
                        rb_str_buf_cat(res, &amp;c, 1);
                    }
                    len = j;
                    goto grow;
                }
                break;

              case 'h':                /* hex string (low nibble first) */
                {
                    int byte = 0;
                    long i, j = 0;

                    if (len &gt; plen) {
                        j = (len + 1) / 2 - (plen + 1) / 2;
                        len = plen;
                    }
                    for (i=0; i++ &lt; len; ptr++) {
                        if (ISALPHA(*ptr))
                            byte |= (((*ptr &amp; 15) + 9) &amp; 15) &lt;&lt; 4;
                        else
                            byte |= (*ptr &amp; 15) &lt;&lt; 4;
                        if (i &amp; 1)
                            byte &gt;&gt;= 4;
                        else {
                            char c = byte &amp; 0xff;
                            rb_str_buf_cat(res, &amp;c, 1);
                            byte = 0;
                        }
                    }
                    if (len &amp; 1) {
                        char c = byte &amp; 0xff;
                        rb_str_buf_cat(res, &amp;c, 1);
                    }
                    len = j;
                    goto grow;
                }
                break;

              case 'H':                /* hex string (high nibble first) */
                {
                    int byte = 0;
                    long i, j = 0;

                    if (len &gt; plen) {
                        j = (len + 1) / 2 - (plen + 1) / 2;
                        len = plen;
                    }
                    for (i=0; i++ &lt; len; ptr++) {
                        if (ISALPHA(*ptr))
                            byte |= ((*ptr &amp; 15) + 9) &amp; 15;
                        else
                            byte |= *ptr &amp; 15;
                        if (i &amp; 1)
                            byte &lt;&lt;= 4;
                        else {
                            char c = byte &amp; 0xff;
                            rb_str_buf_cat(res, &amp;c, 1);
                            byte = 0;
                        }
                    }
                    if (len &amp; 1) {
                        char c = byte &amp; 0xff;
                        rb_str_buf_cat(res, &amp;c, 1);
                    }
                    len = j;
                    goto grow;
                }
                break;
            }
            break;

          case 'c':            /* signed char */
          case 'C':            /* unsigned char */
            while (len-- &gt; 0) {
                char c;

                from = NEXTFROM;
                c = (char)num2i32(from);
                rb_str_buf_cat(res, &amp;c, sizeof(char));
            }
            break;

          case 's':            /* signed short */
            signed_p = 1;
            integer_size = NATINT_LEN(short, 2);
            bigendian_p = BIGENDIAN_P();
            goto pack_integer;

          case 'S':            /* unsigned short */
            signed_p = 0;
            integer_size = NATINT_LEN(short, 2);
            bigendian_p = BIGENDIAN_P();
            goto pack_integer;

          case 'i':            /* signed int */
            signed_p = 1;
            integer_size = (int)sizeof(int);
            bigendian_p = BIGENDIAN_P();
            goto pack_integer;

          case 'I':            /* unsigned int */
            signed_p = 0;
            integer_size = (int)sizeof(int);
            bigendian_p = BIGENDIAN_P();
            goto pack_integer;

          case 'l':            /* signed long */
            signed_p = 1;
            integer_size = NATINT_LEN(long, 4);
            bigendian_p = BIGENDIAN_P();
            goto pack_integer;

          case 'L':            /* unsigned long */
            signed_p = 0;
            integer_size = NATINT_LEN(long, 4);
            bigendian_p = BIGENDIAN_P();
            goto pack_integer;

          case 'q':            /* signed quad (64bit) int */
            signed_p = 1;
            integer_size = 8;
            bigendian_p = BIGENDIAN_P();
            goto pack_integer;

          case 'Q':            /* unsigned quad (64bit) int */
            signed_p = 0;
            integer_size = 8;
            bigendian_p = BIGENDIAN_P();
            goto pack_integer;

          case 'n':            /* unsigned short (network byte-order)  */
            signed_p = 0;
            integer_size = 2;
            bigendian_p = 1;
            goto pack_integer;

          case 'N':            /* unsigned long (network byte-order) */
            signed_p = 0;
            integer_size = 4;
            bigendian_p = 1;
            goto pack_integer;

          case 'v':            /* unsigned short (VAX byte-order) */
            signed_p = 0;
            integer_size = 2;
            bigendian_p = 0;
            goto pack_integer;

          case 'V':            /* unsigned long (VAX byte-order) */
            signed_p = 0;
            integer_size = 4;
            bigendian_p = 0;
            goto pack_integer;

          pack_integer:
            switch (integer_size) {
#if defined(HAVE_INT16_T) &amp;&amp; !defined(FORCE_BIG_PACK)
              case SIZEOF_INT16_T:
                while (len-- &gt; 0) {
                    union {
                        int16_t i;
                        char a[sizeof(int16_t)];
                    } v;

                    from = NEXTFROM;
                    v.i = (int16_t)num2i32(from);
                    if (bigendian_p != BIGENDIAN_P()) v.i = swap16(v.i);
                    rb_str_buf_cat(res, v.a, sizeof(int16_t));
                }
                break;
#endif

#if defined(HAVE_INT32_T) &amp;&amp; !defined(FORCE_BIG_PACK)
              case SIZEOF_INT32_T:
                while (len-- &gt; 0) {
                    union {
                        int32_t i;
                        char a[sizeof(int32_t)];
                    } v;

                    from = NEXTFROM;
                    v.i = (int32_t)num2i32(from);
                    if (bigendian_p != BIGENDIAN_P()) v.i = swap32(v.i);
                    rb_str_buf_cat(res, v.a, sizeof(int32_t));
                }
                break;
#endif

#if defined(HAVE_INT64_T) &amp;&amp; SIZEOF_LONG == SIZEOF_INT64_T &amp;&amp; !defined(FORCE_BIG_PACK)
              case SIZEOF_INT64_T:
                while (len-- &gt; 0) {
                    union {
                        int64_t i;
                        char a[sizeof(int64_t)];
                    } v;

                    from = NEXTFROM;
                    v.i = num2i32(from); /* can return 64bit value if SIZEOF_LONG == SIZEOF_INT64_T */
                    if (bigendian_p != BIGENDIAN_P()) v.i = swap64(v.i);
                    rb_str_buf_cat(res, v.a, sizeof(int64_t));
                }
                break;
#endif

              default:
                if (integer_size &gt; MAX_INTEGER_PACK_SIZE)
                    rb_bug(&quot;unexpected intger size for pack: %d&quot;, integer_size);
                while (len-- &gt; 0) {
                    union {
                        unsigned long i[(MAX_INTEGER_PACK_SIZE+SIZEOF_LONG-1)/SIZEOF_LONG];
                        char a[(MAX_INTEGER_PACK_SIZE+SIZEOF_LONG-1)/SIZEOF_LONG*SIZEOF_LONG];
                    } v;
                    int num_longs = (integer_size+SIZEOF_LONG-1)/SIZEOF_LONG;
                    int i;

                    from = NEXTFROM;
                    rb_big_pack(from, v.i, num_longs);
                    if (bigendian_p) {
                        for (i = 0; i &lt; num_longs/2; i++) {
                            unsigned long t = v.i[i];
                            v.i[i] = v.i[num_longs-1-i];
                            v.i[num_longs-1-i] = t;
                        }
                    }
                    if (bigendian_p != BIGENDIAN_P()) {
                        for (i = 0; i &lt; num_longs; i++)
                            v.i[i] = swapl(v.i[i]);
                    }
                    rb_str_buf_cat(res,
                                   bigendian_p ?
                                     v.a + sizeof(long)*num_longs - integer_size :
                                     v.a,
                                   integer_size);
                }
                break;
            }
            break;

          case 'f':            /* single precision float in native format */
          case 'F':            /* ditto */
            while (len-- &gt; 0) {
                float f;

                from = NEXTFROM;
                f = (float)RFLOAT_VALUE(rb_to_float(from));
                rb_str_buf_cat(res, (char*)&amp;f, sizeof(float));
            }
            break;

          case 'e':            /* single precision float in VAX byte-order */
            while (len-- &gt; 0) {
                float f;
                FLOAT_CONVWITH(ftmp);

                from = NEXTFROM;
                f = (float)RFLOAT_VALUE(rb_to_float(from));
                f = HTOVF(f,ftmp);
                rb_str_buf_cat(res, (char*)&amp;f, sizeof(float));
            }
            break;

          case 'E':            /* double precision float in VAX byte-order */
            while (len-- &gt; 0) {
                double d;
                DOUBLE_CONVWITH(dtmp);

                from = NEXTFROM;
                d = RFLOAT_VALUE(rb_to_float(from));
                d = HTOVD(d,dtmp);
                rb_str_buf_cat(res, (char*)&amp;d, sizeof(double));
            }
            break;

          case 'd':            /* double precision float in native format */
          case 'D':            /* ditto */
            while (len-- &gt; 0) {
                double d;

                from = NEXTFROM;
                d = RFLOAT_VALUE(rb_to_float(from));
                rb_str_buf_cat(res, (char*)&amp;d, sizeof(double));
            }
            break;

          case 'g':            /* single precision float in network byte-order */
            while (len-- &gt; 0) {
                float f;
                FLOAT_CONVWITH(ftmp);

                from = NEXTFROM;
                f = (float)RFLOAT_VALUE(rb_to_float(from));
                f = HTONF(f,ftmp);
                rb_str_buf_cat(res, (char*)&amp;f, sizeof(float));
            }
            break;

          case 'G':            /* double precision float in network byte-order */
            while (len-- &gt; 0) {
                double d;
                DOUBLE_CONVWITH(dtmp);

                from = NEXTFROM;
                d = RFLOAT_VALUE(rb_to_float(from));
                d = HTOND(d,dtmp);
                rb_str_buf_cat(res, (char*)&amp;d, sizeof(double));
            }
            break;

          case 'x':            /* null byte */
          grow:
            while (len &gt;= 10) {
                rb_str_buf_cat(res, nul10, 10);
                len -= 10;
            }
            rb_str_buf_cat(res, nul10, len);
            break;

          case 'X':            /* back up byte */
          shrink:
            plen = RSTRING_LEN(res);
            if (plen &lt; len)
                rb_raise(rb_eArgError, &quot;X outside of string&quot;);
            rb_str_set_len(res, plen - len);
            break;

          case '@':            /* null fill to absolute position */
            len -= RSTRING_LEN(res);
            if (len &gt; 0) goto grow;
            len = -len;
            if (len &gt; 0) goto shrink;
            break;

          case '%':
            rb_raise(rb_eArgError, &quot;%% is not supported&quot;);
            break;

          case 'U':            /* Unicode character */
            while (len-- &gt; 0) {
                SIGNED_VALUE l;
                char buf[8];
                int le;

                from = NEXTFROM;
                from = rb_to_int(from);
                l = NUM2LONG(from);
                if (l &lt; 0) {
                    rb_raise(rb_eRangeError, &quot;pack(U): value out of range&quot;);
                }
                le = rb_uv_to_utf8(buf, l);
                rb_str_buf_cat(res, (char*)buf, le);
            }
            break;

          case 'u':            /* uuencoded string */
          case 'm':            /* base64 encoded string */
            from = NEXTFROM;
            StringValue(from);
            ptr = RSTRING_PTR(from);
            plen = RSTRING_LEN(from);

            if (len == 0 &amp;&amp; type == 'm') {
                encodes(res, ptr, plen, type, 0);
                ptr += plen;
                break;
            }
            if (len &lt;= 2)
                len = 45;
            else
                len = len / 3 * 3;
            while (plen &gt; 0) {
                long todo;

                if (plen &gt; len)
                    todo = len;
                else
                    todo = plen;
                encodes(res, ptr, todo, type, 1);
                plen -= todo;
                ptr += todo;
            }
            break;

          case 'M':            /* quoted-printable encoded string */
            from = rb_obj_as_string(NEXTFROM);
            if (len &lt;= 1)
                len = 72;
            qpencode(res, from, len);
            break;

          case 'P':            /* pointer to packed byte string */
            from = THISFROM;
            if (!NIL_P(from)) {
                StringValue(from);
                if (RSTRING_LEN(from) &lt; len) {
                    rb_raise(rb_eArgError, &quot;too short buffer for P(%ld for %ld)&quot;,
                             RSTRING_LEN(from), len);
                }
            }
            len = 1;
            /* FALL THROUGH */
          case 'p':            /* pointer to string */
            while (len-- &gt; 0) {
                char *t;
                from = NEXTFROM;
                if (NIL_P(from)) {
                    t = 0;
                }
                else {
                    t = StringValuePtr(from);
                }
                if (!associates) {
                    associates = rb_ary_new();
                }
                rb_ary_push(associates, from);
                rb_obj_taint(from);
                rb_str_buf_cat(res, (char*)&amp;t, sizeof(char*));
            }
            break;

          case 'w':            /* BER compressed integer  */
            while (len-- &gt; 0) {
                unsigned long ul;
                VALUE buf = rb_str_new(0, 0);
                char c, *bufs, *bufe;

                from = NEXTFROM;
                if (TYPE(from) == T_BIGNUM) {
                    VALUE big128 = rb_uint2big(128);
                    while (TYPE(from) == T_BIGNUM) {
                        from = rb_big_divmod(from, big128);
                        c = NUM2INT(RARRAY_PTR(from)[1]) | 0x80; /* mod */
                        rb_str_buf_cat(buf, &amp;c, sizeof(char));
                        from = RARRAY_PTR(from)[0]; /* div */
                    }
                }

                {
                    long l = NUM2LONG(from);
                    if (l &lt; 0) {
                        rb_raise(rb_eArgError, &quot;can't compress negative numbers&quot;);
                    }
                    ul = l;
                }

                while (ul) {
                    c = (char)(ul &amp; 0x7f) | 0x80;
                    rb_str_buf_cat(buf, &amp;c, sizeof(char));
                    ul &gt;&gt;=  7;
                }

                if (RSTRING_LEN(buf)) {
                    bufs = RSTRING_PTR(buf);
                    bufe = bufs + RSTRING_LEN(buf) - 1;
                    *bufs &amp;= 0x7f; /* clear continue bit */
                    while (bufs &lt; bufe) { /* reverse */
                        c = *bufs;
                        *bufs++ = *bufe;
                        *bufe-- = c;
                    }
                    rb_str_buf_cat(res, RSTRING_PTR(buf), RSTRING_LEN(buf));
                }
                else {
                    c = 0;
                    rb_str_buf_cat(res, &amp;c, sizeof(char));
                }
            }
            break;

          default:
            break;
        }
    }

    if (associates) {
        rb_str_associate(res, associates);
    }
    OBJ_INFECT(res, fmt);
    switch (enc_info) {
      case 1:
        ENCODING_CODERANGE_SET(res, rb_usascii_encindex(), ENC_CODERANGE_7BIT);
        break;
      case 2:
        rb_enc_set_index(res, rb_utf8_encindex());
        break;
      default:
        /* do nothing, keep ASCII-8BIT */
        break;
    }
    return res;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-permutation">
            
              <b>ary.permutation { |p| block }          &rarr; ary
ary.permutation                        &rarr; an_enumerator
ary.permutation(n) { |p| block }       &rarr; ary
ary.permutation(n)                     &rarr; an_enumerator
</b>
            
            <a href="../classes/Array.html#method-i-permutation" name="method-i-permutation" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>When invoked with a block, yield all permutations of length <em>n</em> of
the elements of <em>ary</em>, then return the array itself. If <em>n</em>
is not specified, yield all permutations of all elements. The
implementation makes no guarantees about the order in which the
permutations are yielded.</p>

<p>If no block is given, an enumerator is returned instead.</p>

<p>Examples:</p>

<pre class="ruby"><span class="ruby-identifier">a</span> = [<span class="ruby-value">1</span>, <span class="ruby-value">2</span>, <span class="ruby-value">3</span>]
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">permutation</span>.<span class="ruby-identifier">to_a</span>     <span class="ruby-comment">#=&gt; [[1,2,3],[1,3,2],[2,1,3],[2,3,1],[3,1,2],[3,2,1]]</span>
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">permutation</span>(<span class="ruby-value">1</span>).<span class="ruby-identifier">to_a</span>  <span class="ruby-comment">#=&gt; [[1],[2],[3]]</span>
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">permutation</span>(<span class="ruby-value">2</span>).<span class="ruby-identifier">to_a</span>  <span class="ruby-comment">#=&gt; [[1,2],[1,3],[2,1],[2,3],[3,1],[3,2]]</span>
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">permutation</span>(<span class="ruby-value">3</span>).<span class="ruby-identifier">to_a</span>  <span class="ruby-comment">#=&gt; [[1,2,3],[1,3,2],[2,1,3],[2,3,1],[3,1,2],[3,2,1]]</span>
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">permutation</span>(<span class="ruby-value">0</span>).<span class="ruby-identifier">to_a</span>  <span class="ruby-comment">#=&gt; [[]] # one permutation of length 0</span>
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">permutation</span>(<span class="ruby-value">4</span>).<span class="ruby-identifier">to_a</span>  <span class="ruby-comment">#=&gt; []   # no permutations of length 4</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-permutation_source')" id="l_method-i-permutation_source">show</a>
                
              </p>
              <div id="method-i-permutation_source" class="dyn-source">
                <pre>static VALUE
rb_ary_permutation(int argc, VALUE *argv, VALUE ary)
{
    VALUE num;
    long r, n, i;

    n = RARRAY_LEN(ary);                  /* Array length */
    RETURN_ENUMERATOR(ary, argc, argv);   /* Return enumerator if no block */
    rb_scan_args(argc, argv, &quot;01&quot;, &amp;num);
    r = NIL_P(num) ? n : NUM2LONG(num);   /* Permutation size from argument */

    if (r &lt; 0 || n &lt; r) {
        /* no permutations: yield nothing */
    }
    else if (r == 0) { /* exactly one permutation: the zero-length array */
        rb_yield(rb_ary_new2(0));
    }
    else if (r == 1) { /* this is a special, easy case */
        for (i = 0; i &lt; RARRAY_LEN(ary); i++) {
            rb_yield(rb_ary_new3(1, RARRAY_PTR(ary)[i]));
        }
    }
    else {             /* this is the general case */
        volatile VALUE t0 = tmpbuf(n,sizeof(long));
        long *p = (long*)RSTRING_PTR(t0);
        volatile VALUE t1 = tmpbuf(n,sizeof(char));
        char *used = (char*)RSTRING_PTR(t1);
        VALUE ary0 = ary_make_shared_copy(ary); /* private defensive copy of ary */
        RBASIC(ary0)-&gt;klass = 0;

        MEMZERO(used, char, n); /* initialize array */

        permute0(n, r, p, 0, used, ary0); /* compute and yield permutations */
        tmpbuf_discard(t0);
        tmpbuf_discard(t1);
        RBASIC(ary0)-&gt;klass = rb_cArray;
    }
    return ary;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-pop">
            
              <b>ary.pop    &rarr; obj or nil
ary.pop(n) &rarr; new_ary
</b>
            
            <a href="../classes/Array.html#method-i-pop" name="method-i-pop" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Removes the last element from <code>self</code> and returns it, or
<code>nil</code> if the array is empty.</p>

<p>If a number <em>n</em> is given, returns an array of the last n elements
(or less) just like <code>array.slice!(-n, n)</code> does.</p>

<pre class="ruby"><span class="ruby-identifier">a</span> = [ <span class="ruby-string">&quot;a&quot;</span>, <span class="ruby-string">&quot;b&quot;</span>, <span class="ruby-string">&quot;c&quot;</span>, <span class="ruby-string">&quot;d&quot;</span> ]
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">pop</span>     <span class="ruby-comment">#=&gt; &quot;d&quot;</span>
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">pop</span>(<span class="ruby-value">2</span>)  <span class="ruby-comment">#=&gt; [&quot;b&quot;, &quot;c&quot;]</span>
<span class="ruby-identifier">a</span>         <span class="ruby-comment">#=&gt; [&quot;a&quot;]</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-pop_source')" id="l_method-i-pop_source">show</a>
                
              </p>
              <div id="method-i-pop_source" class="dyn-source">
                <pre>static VALUE
rb_ary_pop_m(int argc, VALUE *argv, VALUE ary)
{
    VALUE result;

    if (argc == 0) {
        return rb_ary_pop(ary);
    }

    rb_ary_modify_check(ary);
    result = ary_take_first_or_last(argc, argv, ary, ARY_TAKE_LAST);
    ARY_INCREASE_LEN(ary, -RARRAY_LEN(result));
    return result;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-product">
            
              <b>ary.product(other_ary, ...)                &rarr; new_ary
ary.product(other_ary, ...) { |p| block }  &rarr; ary
</b>
            
            <a href="../classes/Array.html#method-i-product" name="method-i-product" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns an array of all combinations of elements from all arrays, The
length of the returned array is the product of the length of
<code>self</code> and the argument arrays. If given a block,
<em>product</em> will yield all combinations and return <code>self</code>
instead.</p>

<pre class="ruby">[<span class="ruby-value">1</span>,<span class="ruby-value">2</span>,<span class="ruby-value">3</span>].<span class="ruby-identifier">product</span>([<span class="ruby-value">4</span>,<span class="ruby-value">5</span>])     <span class="ruby-comment">#=&gt; [[1,4],[1,5],[2,4],[2,5],[3,4],[3,5]]</span>
[<span class="ruby-value">1</span>,<span class="ruby-value">2</span>].<span class="ruby-identifier">product</span>([<span class="ruby-value">1</span>,<span class="ruby-value">2</span>])       <span class="ruby-comment">#=&gt; [[1,1],[1,2],[2,1],[2,2]]</span>
[<span class="ruby-value">1</span>,<span class="ruby-value">2</span>].<span class="ruby-identifier">product</span>([<span class="ruby-value">3</span>,<span class="ruby-value">4</span>],[<span class="ruby-value">5</span>,<span class="ruby-value">6</span>]) <span class="ruby-comment">#=&gt; [[1,3,5],[1,3,6],[1,4,5],[1,4,6],</span>
                           <span class="ruby-comment">#     [2,3,5],[2,3,6],[2,4,5],[2,4,6]]</span>
[<span class="ruby-value">1</span>,<span class="ruby-value">2</span>].<span class="ruby-identifier">product</span>()            <span class="ruby-comment">#=&gt; [[1],[2]]</span>
[<span class="ruby-value">1</span>,<span class="ruby-value">2</span>].<span class="ruby-identifier">product</span>([])          <span class="ruby-comment">#=&gt; []</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-product_source')" id="l_method-i-product_source">show</a>
                
              </p>
              <div id="method-i-product_source" class="dyn-source">
                <pre>static VALUE
rb_ary_product(int argc, VALUE *argv, VALUE ary)
{
    int n = argc+1;    /* How many arrays we're operating on */
    volatile VALUE t0 = tmpary(n);
    volatile VALUE t1 = tmpbuf(n, sizeof(int));
    VALUE *arrays = RARRAY_PTR(t0); /* The arrays we're computing the product of */
    int *counters = (int*)RSTRING_PTR(t1); /* The current position in each one */
    VALUE result = Qnil;      /* The array we'll be returning, when no block given */
    long i,j;
    long resultlen = 1;

    RBASIC(t0)-&gt;klass = 0;
    RBASIC(t1)-&gt;klass = 0;

    /* initialize the arrays of arrays */
    ARY_SET_LEN(t0, n);
    arrays[0] = ary;
    for (i = 1; i &lt; n; i++) arrays[i] = Qnil;
    for (i = 1; i &lt; n; i++) arrays[i] = to_ary(argv[i-1]);

    /* initialize the counters for the arrays */
    for (i = 0; i &lt; n; i++) counters[i] = 0;

    /* Otherwise, allocate and fill in an array of results */
    if (rb_block_given_p()) {
        /* Make defensive copies of arrays; exit if any is empty */
        for (i = 0; i &lt; n; i++) {
            if (RARRAY_LEN(arrays[i]) == 0) goto done;
            arrays[i] = ary_make_shared_copy(arrays[i]);
        }
    }
    else {
        /* Compute the length of the result array; return [] if any is empty */
        for (i = 0; i &lt; n; i++) {
            long k = RARRAY_LEN(arrays[i]), l = resultlen;
            if (k == 0) {
                result = rb_ary_new2(0);
                goto done;
            }
            resultlen *= k;
            if (resultlen &lt; k || resultlen &lt; l || resultlen / k != l) {
                rb_raise(rb_eRangeError, &quot;too big to product&quot;);
            }
        }
        result = rb_ary_new2(resultlen);
    }
    for (;;) {
        int m;
        /* fill in one subarray */
        VALUE subarray = rb_ary_new2(n);
        for (j = 0; j &lt; n; j++) {
            rb_ary_push(subarray, rb_ary_entry(arrays[j], counters[j]));
        }

        /* put it on the result array */
        if(NIL_P(result)) {
            FL_SET(t0, FL_USER5);
            rb_yield(subarray);
            if (! FL_TEST(t0, FL_USER5)) {
                rb_raise(rb_eRuntimeError, &quot;product reentered&quot;);
            }
            else {
                FL_UNSET(t0, FL_USER5);
            }
        }
        else {
            rb_ary_push(result, subarray);
        }

        /*
         * Increment the last counter.  If it overflows, reset to 0
         * and increment the one before it.
         */
        m = n-1;
        counters[m]++;
        while (counters[m] == RARRAY_LEN(arrays[m])) {
            counters[m] = 0;
            /* If the first counter overlows, we are done */
            if (--m &lt; 0) goto done;
            counters[m]++;
        }
    }
done:
    tmpary_discard(t0);
    tmpbuf_discard(t1);

    return NIL_P(result) ? ary : result;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-push">
            
              <b>ary.push(obj, ... )   &rarr; ary
</b>
            
            <a href="../classes/Array.html#method-i-push" name="method-i-push" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Append—Pushes the given object(s) on to the end of this array. This
expression returns the array itself, so several appends may be chained
together.</p>

<pre class="ruby"><span class="ruby-identifier">a</span> = [ <span class="ruby-string">&quot;a&quot;</span>, <span class="ruby-string">&quot;b&quot;</span>, <span class="ruby-string">&quot;c&quot;</span> ]
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">push</span>(<span class="ruby-string">&quot;d&quot;</span>, <span class="ruby-string">&quot;e&quot;</span>, <span class="ruby-string">&quot;f&quot;</span>)
        <span class="ruby-comment">#=&gt; [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;, &quot;f&quot;]</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-push_source')" id="l_method-i-push_source">show</a>
                
              </p>
              <div id="method-i-push_source" class="dyn-source">
                <pre>static VALUE
rb_ary_push_m(int argc, VALUE *argv, VALUE ary)
{
    rb_ary_modify(ary);
    while (argc--) {
        rb_ary_push_1(ary, *argv++);
    }
    return ary;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-rassoc">
            
              <b>ary.rassoc(obj) &rarr; new_ary or nil
</b>
            
            <a href="../classes/Array.html#method-i-rassoc" name="method-i-rassoc" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Searches through the array whose elements are also arrays. Compares
<em>obj</em> with the second element of each contained array using
<code>==</code>. Returns the first contained array that matches. See also
<code>Array#assoc</code>.</p>

<pre class="ruby"><span class="ruby-identifier">a</span> = [ [ <span class="ruby-value">1</span>, <span class="ruby-string">&quot;one&quot;</span>], [<span class="ruby-value">2</span>, <span class="ruby-string">&quot;two&quot;</span>], [<span class="ruby-value">3</span>, <span class="ruby-string">&quot;three&quot;</span>], [<span class="ruby-string">&quot;ii&quot;</span>, <span class="ruby-string">&quot;two&quot;</span>] ]
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">rassoc</span>(<span class="ruby-string">&quot;two&quot;</span>)    <span class="ruby-comment">#=&gt; [2, &quot;two&quot;]</span>
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">rassoc</span>(<span class="ruby-string">&quot;four&quot;</span>)   <span class="ruby-comment">#=&gt; nil</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-rassoc_source')" id="l_method-i-rassoc_source">show</a>
                
              </p>
              <div id="method-i-rassoc_source" class="dyn-source">
                <pre>VALUE
rb_ary_rassoc(VALUE ary, VALUE value)
{
    long i;
    VALUE v;

    for (i = 0; i &lt; RARRAY_LEN(ary); ++i) {
        v = RARRAY_PTR(ary)[i];
        if (TYPE(v) == T_ARRAY &amp;&amp;
            RARRAY_LEN(v) &gt; 1 &amp;&amp;
            rb_equal(RARRAY_PTR(v)[1], value))
            return v;
    }
    return Qnil;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-reject">
            
              <b>ary.reject {|item| block }  &rarr; new_ary
ary.reject                  &rarr; an_enumerator
</b>
            
            <a href="../classes/Array.html#method-i-reject" name="method-i-reject" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns a new array containing the items in <code>self</code> for which the
block is not true. See also <code>Array#delete_if</code></p>

<p>If no block is given, an enumerator is returned instead.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-reject_source')" id="l_method-i-reject_source">show</a>
                
              </p>
              <div id="method-i-reject_source" class="dyn-source">
                <pre>static VALUE
rb_ary_reject(VALUE ary)
{
    RETURN_ENUMERATOR(ary, 0, 0);
    ary = rb_ary_dup(ary);
    rb_ary_reject_bang(ary);
    return ary;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-reject-21">
            
              <b>ary.reject! {|item| block }  &rarr; ary or nil
ary.reject!                  &rarr; an_enumerator
</b>
            
            <a href="../classes/Array.html#method-i-reject-21" name="method-i-reject-21" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Equivalent to <code>Array#delete_if</code>, deleting elements from
<code>self</code> for which the block evaluates to true, but returns
<code>nil</code> if no changes were made. See also
<code>Enumerable#reject</code> and <code>Array#delete_if</code>.</p>

<p>If no block is given, an enumerator is returned instead.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-reject-21_source')" id="l_method-i-reject-21_source">show</a>
                
              </p>
              <div id="method-i-reject-21_source" class="dyn-source">
                <pre>static VALUE
rb_ary_reject_bang(VALUE ary)
{
    long i1, i2;

    RETURN_ENUMERATOR(ary, 0, 0);
    rb_ary_modify(ary);
    for (i1 = i2 = 0; i1 &lt; RARRAY_LEN(ary); i1++) {
        VALUE v = RARRAY_PTR(ary)[i1];
        if (RTEST(rb_yield(v))) continue;
        if (i1 != i2) {
            rb_ary_store(ary, i2, v);
        }
        i2++;
    }

    if (RARRAY_LEN(ary) == i2) return Qnil;
    if (i2 &lt; RARRAY_LEN(ary))
        ARY_SET_LEN(ary, i2);
    return ary;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-repeated_combination">
            
              <b>ary.repeated_combination(n) { |c| block } &rarr; ary
ary.repeated_combination(n)               &rarr; an_enumerator
</b>
            
            <a href="../classes/Array.html#method-i-repeated_combination" name="method-i-repeated_combination" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>When invoked with a block, yields all repeated combinations of length
<em>n</em> of elements from <em>ary</em> and then returns <em>ary</em>
itself. The implementation makes no guarantees about the order in which the
repeated combinations are yielded.</p>

<p>If no block is given, an enumerator is returned instead.</p>

<p>Examples:</p>

<pre class="ruby"><span class="ruby-identifier">a</span> = [<span class="ruby-value">1</span>, <span class="ruby-value">2</span>, <span class="ruby-value">3</span>]
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">repeated_combination</span>(<span class="ruby-value">1</span>).<span class="ruby-identifier">to_a</span>  <span class="ruby-comment">#=&gt; [[1], [2], [3]]</span>
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">repeated_combination</span>(<span class="ruby-value">2</span>).<span class="ruby-identifier">to_a</span>  <span class="ruby-comment">#=&gt; [[1,1],[1,2],[1,3],[2,2],[2,3],[3,3]]</span>
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">repeated_combination</span>(<span class="ruby-value">3</span>).<span class="ruby-identifier">to_a</span>  <span class="ruby-comment">#=&gt; [[1,1,1],[1,1,2],[1,1,3],[1,2,2],[1,2,3],</span>
                                <span class="ruby-comment">#    [1,3,3],[2,2,2],[2,2,3],[2,3,3],[3,3,3]]</span>
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">repeated_combination</span>(<span class="ruby-value">4</span>).<span class="ruby-identifier">to_a</span>  <span class="ruby-comment">#=&gt; [[1,1,1,1],[1,1,1,2],[1,1,1,3],[1,1,2,2],[1,1,2,3],</span>
                                <span class="ruby-comment">#    [1,1,3,3],[1,2,2,2],[1,2,2,3],[1,2,3,3],[1,3,3,3],</span>
                                <span class="ruby-comment">#    [2,2,2,2],[2,2,2,3],[2,2,3,3],[2,3,3,3],[3,3,3,3]]</span>
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">repeated_combination</span>(<span class="ruby-value">0</span>).<span class="ruby-identifier">to_a</span>  <span class="ruby-comment">#=&gt; [[]] # one combination of length 0</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-repeated_combination_source')" id="l_method-i-repeated_combination_source">show</a>
                
              </p>
              <div id="method-i-repeated_combination_source" class="dyn-source">
                <pre>static VALUE
rb_ary_repeated_combination(VALUE ary, VALUE num)
{
    long n, i, len;

    n = NUM2LONG(num);                 /* Combination size from argument */
    RETURN_ENUMERATOR(ary, 1, &amp;num);   /* Return enumerator if no block */
    len = RARRAY_LEN(ary);
    if (n &lt; 0) {
        /* yield nothing */
    }
    else if (n == 0) {
        rb_yield(rb_ary_new2(0));
    }
    else if (n == 1) {
        for (i = 0; i &lt; len; i++) {
            rb_yield(rb_ary_new3(1, RARRAY_PTR(ary)[i]));
        }
    }
    else if (len == 0) {
        /* yield nothing */
    }
    else {
        volatile VALUE t0 = tmpbuf(n, sizeof(long));
        long *p = (long*)RSTRING_PTR(t0);
        VALUE ary0 = ary_make_shared_copy(ary); /* private defensive copy of ary */
        RBASIC(ary0)-&gt;klass = 0;

        rcombinate0(len, n, p, 0, n, ary0); /* compute and yield repeated combinations */
        tmpbuf_discard(t0);
        RBASIC(ary0)-&gt;klass = rb_cArray;
    }
    return ary;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-repeated_permutation">
            
              <b>ary.repeated_permutation(n) { |p| block } &rarr; ary
ary.repeated_permutation(n)               &rarr; an_enumerator
</b>
            
            <a href="../classes/Array.html#method-i-repeated_permutation" name="method-i-repeated_permutation" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>When invoked with a block, yield all repeated permutations of length
<em>n</em> of the elements of <em>ary</em>, then return the array itself.
The implementation makes no guarantees about the order in which the
repeated permutations are yielded.</p>

<p>If no block is given, an enumerator is returned instead.</p>

<p>Examples:</p>

<pre class="ruby"><span class="ruby-identifier">a</span> = [<span class="ruby-value">1</span>, <span class="ruby-value">2</span>]
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">repeated_permutation</span>(<span class="ruby-value">1</span>).<span class="ruby-identifier">to_a</span>  <span class="ruby-comment">#=&gt; [[1], [2]]</span>
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">repeated_permutation</span>(<span class="ruby-value">2</span>).<span class="ruby-identifier">to_a</span>  <span class="ruby-comment">#=&gt; [[1,1],[1,2],[2,1],[2,2]]</span>
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">repeated_permutation</span>(<span class="ruby-value">3</span>).<span class="ruby-identifier">to_a</span>  <span class="ruby-comment">#=&gt; [[1,1,1],[1,1,2],[1,2,1],[1,2,2],</span>
                                <span class="ruby-comment">#    [2,1,1],[2,1,2],[2,2,1],[2,2,2]]</span>
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">repeated_permutation</span>(<span class="ruby-value">0</span>).<span class="ruby-identifier">to_a</span>  <span class="ruby-comment">#=&gt; [[]] # one permutation of length 0</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-repeated_permutation_source')" id="l_method-i-repeated_permutation_source">show</a>
                
              </p>
              <div id="method-i-repeated_permutation_source" class="dyn-source">
                <pre>static VALUE
rb_ary_repeated_permutation(VALUE ary, VALUE num)
{
    long r, n, i;

    n = RARRAY_LEN(ary);                  /* Array length */
    RETURN_ENUMERATOR(ary, 1, &amp;num);      /* Return enumerator if no block */
    r = NUM2LONG(num);                    /* Permutation size from argument */

    if (r &lt; 0) {
        /* no permutations: yield nothing */
    }
    else if (r == 0) { /* exactly one permutation: the zero-length array */
        rb_yield(rb_ary_new2(0));
    }
    else if (r == 1) { /* this is a special, easy case */
        for (i = 0; i &lt; RARRAY_LEN(ary); i++) {
            rb_yield(rb_ary_new3(1, RARRAY_PTR(ary)[i]));
        }
    }
    else {             /* this is the general case */
        volatile VALUE t0 = tmpbuf(r, sizeof(long));
        long *p = (long*)RSTRING_PTR(t0);
        VALUE ary0 = ary_make_shared_copy(ary); /* private defensive copy of ary */
        RBASIC(ary0)-&gt;klass = 0;

        rpermute0(n, r, p, 0, ary0); /* compute and yield repeated permutations */
        tmpbuf_discard(t0);
        RBASIC(ary0)-&gt;klass = rb_cArray;
    }
    return ary;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-replace">
            
              <b>ary.replace(other_ary)  &rarr; ary
</b>
            
            <a href="../classes/Array.html#method-i-replace" name="method-i-replace" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Replaces the contents of <code>self</code> with the contents of
<em>other_ary</em>, truncating or expanding if necessary.</p>

<pre class="ruby"><span class="ruby-identifier">a</span> = [ <span class="ruby-string">&quot;a&quot;</span>, <span class="ruby-string">&quot;b&quot;</span>, <span class="ruby-string">&quot;c&quot;</span>, <span class="ruby-string">&quot;d&quot;</span>, <span class="ruby-string">&quot;e&quot;</span> ]
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">replace</span>([ <span class="ruby-string">&quot;x&quot;</span>, <span class="ruby-string">&quot;y&quot;</span>, <span class="ruby-string">&quot;z&quot;</span> ])   <span class="ruby-comment">#=&gt; [&quot;x&quot;, &quot;y&quot;, &quot;z&quot;]</span>
<span class="ruby-identifier">a</span>                              <span class="ruby-comment">#=&gt; [&quot;x&quot;, &quot;y&quot;, &quot;z&quot;]</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-replace_source')" id="l_method-i-replace_source">show</a>
                
              </p>
              <div id="method-i-replace_source" class="dyn-source">
                <pre>VALUE
rb_ary_replace(VALUE copy, VALUE orig)
{
    rb_ary_modify_check(copy);
    orig = to_ary(orig);
    if (copy == orig) return copy;

    if (RARRAY_LEN(orig) &lt;= RARRAY_EMBED_LEN_MAX) {
        VALUE *ptr;
        VALUE shared = 0;

        if (ARY_OWNS_HEAP_P(copy)) {
            xfree(RARRAY_PTR(copy));
        }
        else if (ARY_SHARED_P(copy)) {
            shared = ARY_SHARED(copy);
            FL_UNSET_SHARED(copy);
        }
        FL_SET_EMBED(copy);
        ptr = RARRAY_PTR(orig);
        MEMCPY(RARRAY_PTR(copy), ptr, VALUE, RARRAY_LEN(orig));
        if (shared) {
            rb_ary_decrement_share(shared);
        }
        ARY_SET_LEN(copy, RARRAY_LEN(orig));
    }
    else {
        VALUE shared = ary_make_shared(orig);
        if (ARY_OWNS_HEAP_P(copy)) {
            xfree(RARRAY_PTR(copy));
        }
        else {
            rb_ary_unshare_safe(copy);
        }
        FL_UNSET_EMBED(copy);
        ARY_SET_PTR(copy, RARRAY_PTR(orig));
        ARY_SET_LEN(copy, RARRAY_LEN(orig));
        rb_ary_set_shared(copy, shared);
    }
    return copy;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-reverse">
            
              <b>ary.reverse &rarr; new_ary
</b>
            
            <a href="../classes/Array.html#method-i-reverse" name="method-i-reverse" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns a new array containing <code>self</code>‘s elements in reverse
order.</p>

<pre class="ruby">[ <span class="ruby-string">&quot;a&quot;</span>, <span class="ruby-string">&quot;b&quot;</span>, <span class="ruby-string">&quot;c&quot;</span> ].<span class="ruby-identifier">reverse</span>   <span class="ruby-comment">#=&gt; [&quot;c&quot;, &quot;b&quot;, &quot;a&quot;]</span>
[ <span class="ruby-value">1</span> ].<span class="ruby-identifier">reverse</span>               <span class="ruby-comment">#=&gt; [1]</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-reverse_source')" id="l_method-i-reverse_source">show</a>
                
              </p>
              <div id="method-i-reverse_source" class="dyn-source">
                <pre>static VALUE
rb_ary_reverse_m(VALUE ary)
{
    VALUE dup = rb_ary_dup_setup(ary);
    long len = RARRAY_LEN(ary);

    if (len &gt; 0) {
        VALUE *p1 = RARRAY_PTR(ary);
        VALUE *p2 = RARRAY_PTR(dup) + len - 1;
        do *p2-- = *p1++; while (--len &gt; 0);
    }
    return dup;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-reverse-21">
            
              <b>ary.reverse!   &rarr; ary
</b>
            
            <a href="../classes/Array.html#method-i-reverse-21" name="method-i-reverse-21" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Reverses <code>self</code> in place.</p>

<pre class="ruby"><span class="ruby-identifier">a</span> = [ <span class="ruby-string">&quot;a&quot;</span>, <span class="ruby-string">&quot;b&quot;</span>, <span class="ruby-string">&quot;c&quot;</span> ]
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">reverse!</span>       <span class="ruby-comment">#=&gt; [&quot;c&quot;, &quot;b&quot;, &quot;a&quot;]</span>
<span class="ruby-identifier">a</span>                <span class="ruby-comment">#=&gt; [&quot;c&quot;, &quot;b&quot;, &quot;a&quot;]</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-reverse-21_source')" id="l_method-i-reverse-21_source">show</a>
                
              </p>
              <div id="method-i-reverse-21_source" class="dyn-source">
                <pre>static VALUE
rb_ary_reverse_bang(VALUE ary)
{
    return rb_ary_reverse(ary);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-reverse_each">
            
              <b>ary.reverse_each {|item| block }   &rarr; ary
ary.reverse_each                   &rarr; an_enumerator
</b>
            
            <a href="../classes/Array.html#method-i-reverse_each" name="method-i-reverse_each" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Same as <code>Array#each</code>, but traverses <code>self</code> in reverse
order.</p>

<pre class="ruby"><span class="ruby-identifier">a</span> = [ <span class="ruby-string">&quot;a&quot;</span>, <span class="ruby-string">&quot;b&quot;</span>, <span class="ruby-string">&quot;c&quot;</span> ]
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">reverse_each</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">print</span> <span class="ruby-identifier">x</span>, <span class="ruby-string">&quot; &quot;</span> }
</pre>

<p>produces:</p>

<pre>c b a</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-reverse_each_source')" id="l_method-i-reverse_each_source">show</a>
                
              </p>
              <div id="method-i-reverse_each_source" class="dyn-source">
                <pre>static VALUE
rb_ary_reverse_each(VALUE ary)
{
    long len;

    RETURN_ENUMERATOR(ary, 0, 0);
    len = RARRAY_LEN(ary);
    while (len--) {
        rb_yield(RARRAY_PTR(ary)[len]);
        if (RARRAY_LEN(ary) &lt; len) {
            len = RARRAY_LEN(ary);
        }
    }
    return ary;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-rindex">
            
              <b>ary.rindex(obj)           &rarr;  int or nil
ary.rindex {|item| block} &rarr;  int or nil
ary.rindex                &rarr;  an_enumerator
</b>
            
            <a href="../classes/Array.html#method-i-rindex" name="method-i-rindex" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns the index of the last object in <code>self</code> <code>==</code>
to <em>obj</em>. If a block is given instead of an argument, returns first
object for which <em>block</em> is true, starting from the last object.
Returns <code>nil</code> if no match is found. See also
<code>Array#index</code>.</p>

<p>If neither block nor argument is given, an enumerator is returned instead.</p>

<pre class="ruby"><span class="ruby-identifier">a</span> = [ <span class="ruby-string">&quot;a&quot;</span>, <span class="ruby-string">&quot;b&quot;</span>, <span class="ruby-string">&quot;b&quot;</span>, <span class="ruby-string">&quot;b&quot;</span>, <span class="ruby-string">&quot;c&quot;</span> ]
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">rindex</span>(<span class="ruby-string">&quot;b&quot;</span>)        <span class="ruby-comment">#=&gt; 3</span>
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">rindex</span>(<span class="ruby-string">&quot;z&quot;</span>)        <span class="ruby-comment">#=&gt; nil</span>
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">rindex</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">==</span><span class="ruby-string">&quot;b&quot;</span>}  <span class="ruby-comment">#=&gt; 3</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-rindex_source')" id="l_method-i-rindex_source">show</a>
                
              </p>
              <div id="method-i-rindex_source" class="dyn-source">
                <pre>static VALUE
rb_ary_rindex(int argc, VALUE *argv, VALUE ary)
{
    VALUE val;
    long i = RARRAY_LEN(ary);

    if (argc == 0) {
        RETURN_ENUMERATOR(ary, 0, 0);
        while (i--) {
            if (RTEST(rb_yield(RARRAY_PTR(ary)[i])))
                return LONG2NUM(i);
            if (i &gt; RARRAY_LEN(ary)) {
                i = RARRAY_LEN(ary);
            }
        }
        return Qnil;
    }
    rb_scan_args(argc, argv, &quot;1&quot;, &amp;val);
    if (rb_block_given_p())
        rb_warn(&quot;given block not used&quot;);
    while (i--) {
        if (rb_equal(RARRAY_PTR(ary)[i], val))
            return LONG2NUM(i);
        if (i &gt; RARRAY_LEN(ary)) {
            i = RARRAY_LEN(ary);
        }
    }
    return Qnil;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-rotate">
            
              <b>ary.rotate([n = 1]) &rarr; new_ary
</b>
            
            <a href="../classes/Array.html#method-i-rotate" name="method-i-rotate" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns new array by rotating <code>self</code>, whose first element is the
element at <code>cnt</code> in <code>self</code>.  If <code>cnt</code> is
negative then it rotates in counter direction.</p>

<pre class="ruby"><span class="ruby-identifier">a</span> = [ <span class="ruby-string">&quot;a&quot;</span>, <span class="ruby-string">&quot;b&quot;</span>, <span class="ruby-string">&quot;c&quot;</span>, <span class="ruby-string">&quot;d&quot;</span> ]
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">rotate</span>         <span class="ruby-comment">#=&gt; [&quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;a&quot;]</span>
<span class="ruby-identifier">a</span>                <span class="ruby-comment">#=&gt; [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;]</span>
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">rotate</span>(<span class="ruby-value">2</span>)      <span class="ruby-comment">#=&gt; [&quot;c&quot;, &quot;d&quot;, &quot;a&quot;, &quot;b&quot;]</span>
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">rotate</span>(<span class="ruby-value">-3</span>)     <span class="ruby-comment">#=&gt; [&quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;a&quot;]</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-rotate_source')" id="l_method-i-rotate_source">show</a>
                
              </p>
              <div id="method-i-rotate_source" class="dyn-source">
                <pre>static VALUE
rb_ary_rotate_m(int argc, VALUE *argv, VALUE ary)
{
    VALUE rotated, *ptr, *ptr2;
    long len, cnt = 1;

    switch (argc) {
      case 1: cnt = NUM2LONG(argv[0]);
      case 0: break;
      default: rb_scan_args(argc, argv, &quot;01&quot;, NULL);
    }

    len = RARRAY_LEN(ary);
    rotated = rb_ary_dup_setup(ary);
    if (len &gt; 0) {
        cnt = rotate_count(cnt, len);
        ptr = RARRAY_PTR(ary);
        ptr2 = RARRAY_PTR(rotated);
        len -= cnt;
        MEMCPY(ptr2, ptr + cnt, VALUE, len);
        MEMCPY(ptr2 + len, ptr, VALUE, cnt);
    }
    return rotated;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-rotate-21">
            
              <b>ary.rotate!(cnt=1) &rarr; ary
</b>
            
            <a href="../classes/Array.html#method-i-rotate-21" name="method-i-rotate-21" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Rotates <code>self</code> in place so that the element at <code>cnt</code>
comes first, and returns <code>self</code>.  If <code>cnt</code> is
negative then it rotates in counter direction.</p>

<pre class="ruby"><span class="ruby-identifier">a</span> = [ <span class="ruby-string">&quot;a&quot;</span>, <span class="ruby-string">&quot;b&quot;</span>, <span class="ruby-string">&quot;c&quot;</span>, <span class="ruby-string">&quot;d&quot;</span> ]
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">rotate!</span>        <span class="ruby-comment">#=&gt; [&quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;a&quot;]</span>
<span class="ruby-identifier">a</span>                <span class="ruby-comment">#=&gt; [&quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;a&quot;]</span>
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">rotate!</span>(<span class="ruby-value">2</span>)     <span class="ruby-comment">#=&gt; [&quot;d&quot;, &quot;a&quot;, &quot;b&quot;, &quot;c&quot;]</span>
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">rotate!</span>(<span class="ruby-value">-3</span>)    <span class="ruby-comment">#=&gt; [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;]</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-rotate-21_source')" id="l_method-i-rotate-21_source">show</a>
                
              </p>
              <div id="method-i-rotate-21_source" class="dyn-source">
                <pre>static VALUE
rb_ary_rotate_bang(int argc, VALUE *argv, VALUE ary)
{
    long n = 1;

    switch (argc) {
      case 1: n = NUM2LONG(argv[0]);
      case 0: break;
      default: rb_scan_args(argc, argv, &quot;01&quot;, NULL);
    }
    rb_ary_rotate(ary, n);
    return ary;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-sample">
            
              <b>ary.sample        &rarr; obj
ary.sample(n)     &rarr; new_ary
</b>
            
            <a href="../classes/Array.html#method-i-sample" name="method-i-sample" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Choose a random element or <code>n</code> random elements from the array.
The elements are chosen by using random and unique indices into the array
in order to ensure that an element doesn’t repeat itself unless the array
already contained duplicate elements. If the array is empty the first form
returns <code>nil</code> and the second form returns an empty array.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-sample_source')" id="l_method-i-sample_source">show</a>
                
              </p>
              <div id="method-i-sample_source" class="dyn-source">
                <pre>static VALUE
rb_ary_sample(int argc, VALUE *argv, VALUE ary)
{
    VALUE nv, result, *ptr;
    long n, len, i, j, k, idx[10];

    len = RARRAY_LEN(ary);
    if (argc == 0) {
        if (len == 0) return Qnil;
        i = len == 1 ? 0 : (long)(rb_genrand_real()*len);
        return RARRAY_PTR(ary)[i];
    }
    rb_scan_args(argc, argv, &quot;1&quot;, &amp;nv);
    n = NUM2LONG(nv);
    if (n &lt; 0) rb_raise(rb_eArgError, &quot;negative sample number&quot;);
    ptr = RARRAY_PTR(ary);
    len = RARRAY_LEN(ary);
    if (n &gt; len) n = len;
    switch (n) {
      case 0: return rb_ary_new2(0);
      case 1:
        return rb_ary_new4(1, &amp;ptr[(long)(rb_genrand_real()*len)]);
      case 2:
        i = (long)(rb_genrand_real()*len);
        j = (long)(rb_genrand_real()*(len-1));
        if (j &gt;= i) j++;
        return rb_ary_new3(2, ptr[i], ptr[j]);
      case 3:
        i = (long)(rb_genrand_real()*len);
        j = (long)(rb_genrand_real()*(len-1));
        k = (long)(rb_genrand_real()*(len-2));
        {
            long l = j, g = i;
            if (j &gt;= i) l = i, g = ++j;
            if (k &gt;= l &amp;&amp; (++k &gt;= g)) ++k;
        }
        return rb_ary_new3(3, ptr[i], ptr[j], ptr[k]);
    }
    if ((size_t)n &lt; sizeof(idx)/sizeof(idx[0])) {
        VALUE *ptr_result;
        long sorted[sizeof(idx)/sizeof(idx[0])];
        sorted[0] = idx[0] = (long)(rb_genrand_real()*len);
        for (i=1; i&lt;n; i++) {
            k = (long)(rb_genrand_real()*--len);
            for (j = 0; j &lt; i; ++j) {
                if (k &lt; sorted[j]) break;
                ++k;
            }
            memmove(&amp;sorted[j+1], &amp;sorted[j], sizeof(sorted[0])*(i-j));
            sorted[j] = idx[i] = k;
        }
        result = rb_ary_new2(n);
        ptr_result = RARRAY_PTR(result);
        for (i=0; i&lt;n; i++) {
            ptr_result[i] = ptr[idx[i]];
        }
    }
    else {
        VALUE *ptr_result;
        result = rb_ary_new4(len, ptr);
        ptr_result = RARRAY_PTR(result);
        RB_GC_GUARD(ary);
        for (i=0; i&lt;n; i++) {
            j = (long)(rb_genrand_real()*(len-i)) + i;
            nv = ptr_result[j];
            ptr_result[j] = ptr_result[i];
            ptr_result[i] = nv;
        }
    }
    ARY_SET_LEN(result, n);

    return result;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-select">
            
              <b>ary.select {|item| block } &rarr; new_ary
ary.select                 &rarr; an_enumerator
</b>
            
            <a href="../classes/Array.html#method-i-select" name="method-i-select" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Invokes the block passing in successive elements from <code>self</code>,
returning an array containing those elements for which the block returns a
true value (equivalent to <code>Enumerable#select</code>).</p>

<p>If no block is given, an enumerator is returned instead.</p>

<pre class="ruby"><span class="ruby-identifier">a</span> = <span class="ruby-node">%w{ a b c d e f }</span>
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">select</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-identifier">v</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp">/[aeiou]/</span>}   <span class="ruby-comment">#=&gt; [&quot;a&quot;, &quot;e&quot;]</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-select_source')" id="l_method-i-select_source">show</a>
                
              </p>
              <div id="method-i-select_source" class="dyn-source">
                <pre>static VALUE
rb_ary_select(VALUE ary)
{
    VALUE result;
    long i;

    RETURN_ENUMERATOR(ary, 0, 0);
    result = rb_ary_new2(RARRAY_LEN(ary));
    for (i = 0; i &lt; RARRAY_LEN(ary); i++) {
        if (RTEST(rb_yield(RARRAY_PTR(ary)[i]))) {
            rb_ary_push(result, rb_ary_elt(ary, i));
        }
    }
    return result;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-select-21">
            
              <b>ary.select! {|item| block } &rarr; new_ary or nil
ary.select!                 &rarr; an_enumerator
</b>
            
            <a href="../classes/Array.html#method-i-select-21" name="method-i-select-21" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Invokes the block passing in successive elements from <code>self</code>,
deleting elements for which the block returns a false value. It returns
<code>self</code> if changes were made, otherwise it returns
<code>nil</code>. See also <code>Array#keep_if</code></p>

<p>If no block is given, an enumerator is returned instead.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-select-21_source')" id="l_method-i-select-21_source">show</a>
                
              </p>
              <div id="method-i-select-21_source" class="dyn-source">
                <pre>static VALUE
rb_ary_select_bang(VALUE ary)
{
    long i1, i2;

    RETURN_ENUMERATOR(ary, 0, 0);
    rb_ary_modify(ary);
    for (i1 = i2 = 0; i1 &lt; RARRAY_LEN(ary); i1++) {
        VALUE v = RARRAY_PTR(ary)[i1];
        if (!RTEST(rb_yield(v))) continue;
        if (i1 != i2) {
            rb_ary_store(ary, i2, v);
        }
        i2++;
    }

    if (RARRAY_LEN(ary) == i2) return Qnil;
    if (i2 &lt; RARRAY_LEN(ary))
        ARY_SET_LEN(ary, i2);
    return ary;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-shift">
            
              <b>ary.shift    &rarr; obj or nil
ary.shift(n) &rarr; new_ary
</b>
            
            <a href="../classes/Array.html#method-i-shift" name="method-i-shift" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns the first element of <code>self</code> and removes it (shifting all
other elements down by one). Returns <code>nil</code> if the array is
empty.</p>

<p>If a number <em>n</em> is given, returns an array of the first n elements
(or less) just like <code>array.slice!(0, n)</code> does.</p>

<pre class="ruby"><span class="ruby-identifier">args</span> = [ <span class="ruby-string">&quot;-m&quot;</span>, <span class="ruby-string">&quot;-q&quot;</span>, <span class="ruby-string">&quot;filename&quot;</span> ]
<span class="ruby-identifier">args</span>.<span class="ruby-identifier">shift</span>     <span class="ruby-comment">#=&gt; &quot;-m&quot;</span>
<span class="ruby-identifier">args</span>           <span class="ruby-comment">#=&gt; [&quot;-q&quot;, &quot;filename&quot;]</span>

<span class="ruby-identifier">args</span> = [ <span class="ruby-string">&quot;-m&quot;</span>, <span class="ruby-string">&quot;-q&quot;</span>, <span class="ruby-string">&quot;filename&quot;</span> ]
<span class="ruby-identifier">args</span>.<span class="ruby-identifier">shift</span>(<span class="ruby-value">2</span>)  <span class="ruby-comment">#=&gt; [&quot;-m&quot;, &quot;-q&quot;]</span>
<span class="ruby-identifier">args</span>           <span class="ruby-comment">#=&gt; [&quot;filename&quot;]</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-shift_source')" id="l_method-i-shift_source">show</a>
                
              </p>
              <div id="method-i-shift_source" class="dyn-source">
                <pre>static VALUE
rb_ary_shift_m(int argc, VALUE *argv, VALUE ary)
{
    VALUE result;
    long n;

    if (argc == 0) {
        return rb_ary_shift(ary);
    }

    rb_ary_modify_check(ary);
    result = ary_take_first_or_last(argc, argv, ary, ARY_TAKE_FIRST);
    n = RARRAY_LEN(result);
    if (ARY_SHARED_P(ary)) {
        if (ARY_SHARED_NUM(ARY_SHARED(ary)) == 1) {
            rb_mem_clear(RARRAY_PTR(ary), n);
        }
        ARY_INCREASE_PTR(ary, n);
    }
    else {
        MEMMOVE(RARRAY_PTR(ary), RARRAY_PTR(ary)+n, VALUE, RARRAY_LEN(ary)-n);
    }
    ARY_INCREASE_LEN(ary, -n);

    return result;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-shuffle">
            
              <b>ary.shuffle &rarr; new_ary
</b>
            
            <a href="../classes/Array.html#method-i-shuffle" name="method-i-shuffle" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns a new array with elements of this array shuffled.</p>

<pre class="ruby"><span class="ruby-identifier">a</span> = [ <span class="ruby-value">1</span>, <span class="ruby-value">2</span>, <span class="ruby-value">3</span> ]           <span class="ruby-comment">#=&gt; [1, 2, 3]</span>
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">shuffle</span>                 <span class="ruby-comment">#=&gt; [2, 3, 1]</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-shuffle_source')" id="l_method-i-shuffle_source">show</a>
                
              </p>
              <div id="method-i-shuffle_source" class="dyn-source">
                <pre>static VALUE
rb_ary_shuffle(VALUE ary)
{
    ary = rb_ary_dup(ary);
    rb_ary_shuffle_bang(ary);
    return ary;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-shuffle-21">
            
              <b>ary.shuffle!        &rarr; ary
</b>
            
            <a href="../classes/Array.html#method-i-shuffle-21" name="method-i-shuffle-21" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Shuffles elements in <code>self</code> in place.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-shuffle-21_source')" id="l_method-i-shuffle-21_source">show</a>
                
              </p>
              <div id="method-i-shuffle-21_source" class="dyn-source">
                <pre>static VALUE
rb_ary_shuffle_bang(VALUE ary)
{
    VALUE *ptr;
    long i = RARRAY_LEN(ary);

    rb_ary_modify(ary);
    ptr = RARRAY_PTR(ary);
    while (i) {
        long j = (long)(rb_genrand_real()*i);
        VALUE tmp = ptr[--i];
        ptr[i] = ptr[j];
        ptr[j] = tmp;
    }
    return ary;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-size">
            
              <b>size</b>()
            
            <a href="../classes/Array.html#method-i-size" name="method-i-size" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-slice">
            
              <b>ary[index]                &rarr; obj     or nil
ary[start, length]        &rarr; new_ary or nil
ary[range]                &rarr; new_ary or nil
ary.slice(index)          &rarr; obj     or nil
ary.slice(start, length)  &rarr; new_ary or nil
ary.slice(range)          &rarr; new_ary or nil
</b>
            
            <a href="../classes/Array.html#method-i-slice" name="method-i-slice" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Element Reference—Returns the element at <em>index</em>, or returns a
subarray starting at <em>start</em> and continuing for <em>length</em>
elements, or returns a subarray specified by <em>range</em>. Negative
indices count backward from the end of the array (-1 is the last element).
Returns <code>nil</code> if the index (or starting index) are out of range.</p>

<pre class="ruby"><span class="ruby-identifier">a</span> = [ <span class="ruby-string">&quot;a&quot;</span>, <span class="ruby-string">&quot;b&quot;</span>, <span class="ruby-string">&quot;c&quot;</span>, <span class="ruby-string">&quot;d&quot;</span>, <span class="ruby-string">&quot;e&quot;</span> ]
<span class="ruby-identifier">a</span>[<span class="ruby-value">2</span>] <span class="ruby-operator">+</span>  <span class="ruby-identifier">a</span>[<span class="ruby-value">0</span>] <span class="ruby-operator">+</span> <span class="ruby-identifier">a</span>[<span class="ruby-value">1</span>]    <span class="ruby-comment">#=&gt; &quot;cab&quot;</span>
<span class="ruby-identifier">a</span>[<span class="ruby-value">6</span>]                   <span class="ruby-comment">#=&gt; nil</span>
<span class="ruby-identifier">a</span>[<span class="ruby-value">1</span>, <span class="ruby-value">2</span>]                <span class="ruby-comment">#=&gt; [ &quot;b&quot;, &quot;c&quot; ]</span>
<span class="ruby-identifier">a</span>[<span class="ruby-value">1</span><span class="ruby-operator">..</span><span class="ruby-value">3</span>]                <span class="ruby-comment">#=&gt; [ &quot;b&quot;, &quot;c&quot;, &quot;d&quot; ]</span>
<span class="ruby-identifier">a</span>[<span class="ruby-value">4</span><span class="ruby-operator">..</span><span class="ruby-value">7</span>]                <span class="ruby-comment">#=&gt; [ &quot;e&quot; ]</span>
<span class="ruby-identifier">a</span>[<span class="ruby-value">6</span><span class="ruby-operator">..</span><span class="ruby-value">10</span>]               <span class="ruby-comment">#=&gt; nil</span>
<span class="ruby-identifier">a</span>[<span class="ruby-value">-3</span>, <span class="ruby-value">3</span>]               <span class="ruby-comment">#=&gt; [ &quot;c&quot;, &quot;d&quot;, &quot;e&quot; ]</span>
<span class="ruby-comment"># special cases</span>
<span class="ruby-identifier">a</span>[<span class="ruby-value">5</span>]                   <span class="ruby-comment">#=&gt; nil</span>
<span class="ruby-identifier">a</span>[<span class="ruby-value">5</span>, <span class="ruby-value">1</span>]                <span class="ruby-comment">#=&gt; []</span>
<span class="ruby-identifier">a</span>[<span class="ruby-value">5</span><span class="ruby-operator">..</span><span class="ruby-value">10</span>]               <span class="ruby-comment">#=&gt; []</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-slice_source')" id="l_method-i-slice_source">show</a>
                
              </p>
              <div id="method-i-slice_source" class="dyn-source">
                <pre>VALUE
rb_ary_aref(int argc, VALUE *argv, VALUE ary)
{
    VALUE arg;
    long beg, len;

    if (argc == 2) {
        beg = NUM2LONG(argv[0]);
        len = NUM2LONG(argv[1]);
        if (beg &lt; 0) {
            beg += RARRAY_LEN(ary);
        }
        return rb_ary_subseq(ary, beg, len);
    }
    if (argc != 1) {
        rb_scan_args(argc, argv, &quot;11&quot;, 0, 0);
    }
    arg = argv[0];
    /* special case - speeding up */
    if (FIXNUM_P(arg)) {
        return rb_ary_entry(ary, FIX2LONG(arg));
    }
    /* check if idx is Range */
    switch (rb_range_beg_len(arg, &amp;beg, &amp;len, RARRAY_LEN(ary), 0)) {
      case Qfalse:
        break;
      case Qnil:
        return Qnil;
      default:
        return rb_ary_subseq(ary, beg, len);
    }
    return rb_ary_entry(ary, NUM2LONG(arg));
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-slice-21">
            
              <b>ary.slice!(index)         &rarr; obj or nil
ary.slice!(start, length) &rarr; new_ary or nil
ary.slice!(range)         &rarr; new_ary or nil
</b>
            
            <a href="../classes/Array.html#method-i-slice-21" name="method-i-slice-21" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Deletes the element(s) given by an index (optionally with a length) or by a
range. Returns the deleted object (or objects), or <code>nil</code> if the
index is out of range.</p>

<pre class="ruby"><span class="ruby-identifier">a</span> = [ <span class="ruby-string">&quot;a&quot;</span>, <span class="ruby-string">&quot;b&quot;</span>, <span class="ruby-string">&quot;c&quot;</span> ]
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">slice!</span>(<span class="ruby-value">1</span>)     <span class="ruby-comment">#=&gt; &quot;b&quot;</span>
<span class="ruby-identifier">a</span>               <span class="ruby-comment">#=&gt; [&quot;a&quot;, &quot;c&quot;]</span>
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">slice!</span>(<span class="ruby-value">-1</span>)    <span class="ruby-comment">#=&gt; &quot;c&quot;</span>
<span class="ruby-identifier">a</span>               <span class="ruby-comment">#=&gt; [&quot;a&quot;]</span>
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">slice!</span>(<span class="ruby-value">100</span>)   <span class="ruby-comment">#=&gt; nil</span>
<span class="ruby-identifier">a</span>               <span class="ruby-comment">#=&gt; [&quot;a&quot;]</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-slice-21_source')" id="l_method-i-slice-21_source">show</a>
                
              </p>
              <div id="method-i-slice-21_source" class="dyn-source">
                <pre>static VALUE
rb_ary_slice_bang(int argc, VALUE *argv, VALUE ary)
{
    VALUE arg1, arg2;
    long pos, len, orig_len;

    rb_ary_modify_check(ary);
    if (argc == 2) {
        pos = NUM2LONG(argv[0]);
        len = NUM2LONG(argv[1]);
      delete_pos_len:
        if (len &lt; 0) return Qnil;
        orig_len = RARRAY_LEN(ary);
        if (pos &lt; 0) {
            pos += orig_len;
            if (pos &lt; 0) return Qnil;
        }
        else if (orig_len &lt; pos) return Qnil;
        if (orig_len &lt; pos + len) {
            len = orig_len - pos;
        }
        if (len == 0) return rb_ary_new2(0);
        arg2 = rb_ary_new4(len, RARRAY_PTR(ary)+pos);
        RBASIC(arg2)-&gt;klass = rb_obj_class(ary);
        rb_ary_splice(ary, pos, len, Qundef);
        return arg2;
    }

    if (argc != 1) {
        /* error report */
        rb_scan_args(argc, argv, &quot;11&quot;, NULL, NULL);
    }
    arg1 = argv[0];

    if (!FIXNUM_P(arg1)) {
        switch (rb_range_beg_len(arg1, &amp;pos, &amp;len, RARRAY_LEN(ary), 0)) {
          case Qtrue:
            /* valid range */
            goto delete_pos_len;
          case Qnil:
            /* invalid range */
            return Qnil;
          default:
            /* not a range */
            break;
        }
    }

    return rb_ary_delete_at(ary, NUM2LONG(arg1));
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-sort">
            
              <b>ary.sort                   &rarr; new_ary
ary.sort {| a,b | block }  &rarr; new_ary
</b>
            
            <a href="../classes/Array.html#method-i-sort" name="method-i-sort" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns a new array created by sorting <code>self</code>. Comparisons for
the sort will be done using the <code>&lt;=&gt;</code> operator or using an
optional code block. The block implements a comparison between <em>a</em>
and <em>b</em>, returning -1, 0, or +1. See also
<code>Enumerable#sort_by</code>.</p>

<pre class="ruby"><span class="ruby-identifier">a</span> = [ <span class="ruby-string">&quot;d&quot;</span>, <span class="ruby-string">&quot;a&quot;</span>, <span class="ruby-string">&quot;e&quot;</span>, <span class="ruby-string">&quot;c&quot;</span>, <span class="ruby-string">&quot;b&quot;</span> ]
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">sort</span>                    <span class="ruby-comment">#=&gt; [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;]</span>
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">sort</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">x</span>,<span class="ruby-identifier">y</span><span class="ruby-operator">|</span> <span class="ruby-identifier">y</span> <span class="ruby-operator">&lt;=&gt;</span> <span class="ruby-identifier">x</span> }   <span class="ruby-comment">#=&gt; [&quot;e&quot;, &quot;d&quot;, &quot;c&quot;, &quot;b&quot;, &quot;a&quot;]</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-sort_source')" id="l_method-i-sort_source">show</a>
                
              </p>
              <div id="method-i-sort_source" class="dyn-source">
                <pre>VALUE
rb_ary_sort(VALUE ary)
{
    ary = rb_ary_dup(ary);
    rb_ary_sort_bang(ary);
    return ary;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-sort-21">
            
              <b>ary.sort!                   &rarr; ary
ary.sort! {| a,b | block }  &rarr; ary
</b>
            
            <a href="../classes/Array.html#method-i-sort-21" name="method-i-sort-21" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Sorts <code>self</code>. Comparisons for the sort will be done using the
<code>&lt;=&gt;</code> operator or using an optional code block. The block
implements a comparison between <em>a</em> and <em>b</em>, returning -1, 0,
or +1. See also <code>Enumerable#sort_by</code>.</p>

<pre class="ruby"><span class="ruby-identifier">a</span> = [ <span class="ruby-string">&quot;d&quot;</span>, <span class="ruby-string">&quot;a&quot;</span>, <span class="ruby-string">&quot;e&quot;</span>, <span class="ruby-string">&quot;c&quot;</span>, <span class="ruby-string">&quot;b&quot;</span> ]
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">sort</span>                    <span class="ruby-comment">#=&gt; [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;]</span>
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">sort</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">x</span>,<span class="ruby-identifier">y</span><span class="ruby-operator">|</span> <span class="ruby-identifier">y</span> <span class="ruby-operator">&lt;=&gt;</span> <span class="ruby-identifier">x</span> }   <span class="ruby-comment">#=&gt; [&quot;e&quot;, &quot;d&quot;, &quot;c&quot;, &quot;b&quot;, &quot;a&quot;]</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-sort-21_source')" id="l_method-i-sort-21_source">show</a>
                
              </p>
              <div id="method-i-sort-21_source" class="dyn-source">
                <pre>VALUE
rb_ary_sort_bang(VALUE ary)
{
    rb_ary_modify(ary);
    assert(!ARY_SHARED_P(ary));
    if (RARRAY_LEN(ary) &gt; 1) {
        VALUE tmp = ary_make_substitution(ary); /* only ary refers tmp */
        struct ary_sort_data data;

        RBASIC(tmp)-&gt;klass = 0;
        data.ary = tmp;
        data.opt_methods = 0;
        data.opt_inited = 0;
        ruby_qsort(RARRAY_PTR(tmp), RARRAY_LEN(tmp), sizeof(VALUE),
                   rb_block_given_p()?sort_1:sort_2, &amp;data);

        if (ARY_EMBED_P(tmp)) {
            assert(ARY_EMBED_P(tmp));
            if (ARY_SHARED_P(ary)) { /* ary might be destructively operated in the given block */
                rb_ary_unshare(ary);
            }
            FL_SET_EMBED(ary);
            MEMCPY(RARRAY_PTR(ary), ARY_EMBED_PTR(tmp), VALUE, ARY_EMBED_LEN(tmp));
            ARY_SET_LEN(ary, ARY_EMBED_LEN(tmp));
        }
        else {
            assert(!ARY_EMBED_P(tmp));
            if (ARY_HEAP_PTR(ary) == ARY_HEAP_PTR(tmp)) {
                assert(!ARY_EMBED_P(ary));
                FL_UNSET_SHARED(ary);
                ARY_SET_CAPA(ary, ARY_CAPA(tmp));
            }
            else {
                assert(!ARY_SHARED_P(tmp));
                if (ARY_EMBED_P(ary)) {
                    FL_UNSET_EMBED(ary);
                }
                else if (ARY_SHARED_P(ary)) {
                    /* ary might be destructively operated in the given block */
                    rb_ary_unshare(ary);
                }
                else {
                    xfree(ARY_HEAP_PTR(ary));
                }
                ARY_SET_PTR(ary, RARRAY_PTR(tmp));
                ARY_SET_HEAP_LEN(ary, RARRAY_LEN(tmp));
                ARY_SET_CAPA(ary, ARY_CAPA(tmp));
            }
            /* tmp was lost ownership for the ptr */
            FL_UNSET(tmp, FL_FREEZE);
            FL_SET_EMBED(tmp);
            ARY_SET_EMBED_LEN(tmp, 0);
            FL_SET(tmp, FL_FREEZE);
        }
        /* tmp will be GC'ed. */
        RBASIC(tmp)-&gt;klass = rb_cArray;
    }
    return ary;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-sort_by-21">
            
              <b>ary.sort_by! {| obj | block }    &rarr; ary
ary.sort_by!                     &rarr; an_enumerator
</b>
            
            <a href="../classes/Array.html#method-i-sort_by-21" name="method-i-sort_by-21" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Sorts <code>self</code> in place using a set of keys generated by mapping
the values in <code>self</code> through the given block.</p>

<p>If no block is given, an enumerator is returned instead.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-sort_by-21_source')" id="l_method-i-sort_by-21_source">show</a>
                
              </p>
              <div id="method-i-sort_by-21_source" class="dyn-source">
                <pre>static VALUE
rb_ary_sort_by_bang(VALUE ary)
{
    VALUE sorted;

    RETURN_ENUMERATOR(ary, 0, 0);
    rb_ary_modify(ary);
    sorted = rb_block_call(ary, rb_intern(&quot;sort_by&quot;), 0, 0, sort_by_i, 0);
    rb_ary_replace(ary, sorted);
    return ary;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-take">
            
              <b>ary.take(n)               &rarr; new_ary
</b>
            
            <a href="../classes/Array.html#method-i-take" name="method-i-take" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns first n elements from <em>ary</em>.</p>

<pre class="ruby"><span class="ruby-identifier">a</span> = [<span class="ruby-value">1</span>, <span class="ruby-value">2</span>, <span class="ruby-value">3</span>, <span class="ruby-value">4</span>, <span class="ruby-value">5</span>, <span class="ruby-value">0</span>]
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">take</span>(<span class="ruby-value">3</span>)             <span class="ruby-comment">#=&gt; [1, 2, 3]</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-take_source')" id="l_method-i-take_source">show</a>
                
              </p>
              <div id="method-i-take_source" class="dyn-source">
                <pre>static VALUE
rb_ary_take(VALUE obj, VALUE n)
{
    long len = NUM2LONG(n);
    if (len &lt; 0) {
        rb_raise(rb_eArgError, &quot;attempt to take negative size&quot;);
    }
    return rb_ary_subseq(obj, 0, len);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-take_while">
            
              <b>ary.take_while {|arr| block }   &rarr; new_ary
ary.take_while                  &rarr; an_enumerator
</b>
            
            <a href="../classes/Array.html#method-i-take_while" name="method-i-take_while" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Passes elements to the block until the block returns <code>nil</code> or
<code>false</code>, then stops iterating and returns an array of all prior
elements.</p>

<p>If no block is given, an enumerator is returned instead.</p>

<pre class="ruby"><span class="ruby-identifier">a</span> = [<span class="ruby-value">1</span>, <span class="ruby-value">2</span>, <span class="ruby-value">3</span>, <span class="ruby-value">4</span>, <span class="ruby-value">5</span>, <span class="ruby-value">0</span>]
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">take_while</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span> <span class="ruby-identifier">i</span> <span class="ruby-operator">&lt;</span> <span class="ruby-value">3</span> }   <span class="ruby-comment">#=&gt; [1, 2]</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-take_while_source')" id="l_method-i-take_while_source">show</a>
                
              </p>
              <div id="method-i-take_while_source" class="dyn-source">
                <pre>static VALUE
rb_ary_take_while(VALUE ary)
{
    long i;

    RETURN_ENUMERATOR(ary, 0, 0);
    for (i = 0; i &lt; RARRAY_LEN(ary); i++) {
        if (!RTEST(rb_yield(RARRAY_PTR(ary)[i]))) break;
    }
    return rb_ary_take(ary, LONG2FIX(i));
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-to_a">
            
              <b>ary.to_a     &rarr; ary
</b>
            
            <a href="../classes/Array.html#method-i-to_a" name="method-i-to_a" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns <code>self</code>. If called on a subclass of <a
href="Array.html">Array</a>, converts the receiver to an <a
href="Array.html">Array</a> object.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-to_a_source')" id="l_method-i-to_a_source">show</a>
                
              </p>
              <div id="method-i-to_a_source" class="dyn-source">
                <pre>static VALUE
rb_ary_to_a(VALUE ary)
{
    if (rb_obj_class(ary) != rb_cArray) {
        VALUE dup = rb_ary_new2(RARRAY_LEN(ary));
        rb_ary_replace(dup, ary);
        return dup;
    }
    return ary;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-to_ary">
            
              <b>ary.to_ary &rarr; ary
</b>
            
            <a href="../classes/Array.html#method-i-to_ary" name="method-i-to_ary" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns <code>self</code>.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-to_ary_source')" id="l_method-i-to_ary_source">show</a>
                
              </p>
              <div id="method-i-to_ary_source" class="dyn-source">
                <pre>static VALUE
rb_ary_to_ary_m(VALUE ary)
{
    return ary;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-to_s">
            
              <b>to_s</b>()
            
            <a href="../classes/Array.html#method-i-to_s" name="method-i-to_s" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-transpose">
            
              <b>ary.transpose &rarr; new_ary
</b>
            
            <a href="../classes/Array.html#method-i-transpose" name="method-i-transpose" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Assumes that <code>self</code> is an array of arrays and transposes the
rows and columns.</p>

<pre class="ruby"><span class="ruby-identifier">a</span> = [[<span class="ruby-value">1</span>,<span class="ruby-value">2</span>], [<span class="ruby-value">3</span>,<span class="ruby-value">4</span>], [<span class="ruby-value">5</span>,<span class="ruby-value">6</span>]]
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">transpose</span>   <span class="ruby-comment">#=&gt; [[1, 3, 5], [2, 4, 6]]</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-transpose_source')" id="l_method-i-transpose_source">show</a>
                
              </p>
              <div id="method-i-transpose_source" class="dyn-source">
                <pre>static VALUE
rb_ary_transpose(VALUE ary)
{
    long elen = -1, alen, i, j;
    VALUE tmp, result = 0;

    alen = RARRAY_LEN(ary);
    if (alen == 0) return rb_ary_dup(ary);
    for (i=0; i&lt;alen; i++) {
        tmp = to_ary(rb_ary_elt(ary, i));
        if (elen &lt; 0) {                /* first element */
            elen = RARRAY_LEN(tmp);
            result = rb_ary_new2(elen);
            for (j=0; j&lt;elen; j++) {
                rb_ary_store(result, j, rb_ary_new2(alen));
            }
        }
        else if (elen != RARRAY_LEN(tmp)) {
            rb_raise(rb_eIndexError, &quot;element size differs (%ld should be %ld)&quot;,
                     RARRAY_LEN(tmp), elen);
        }
        for (j=0; j&lt;elen; j++) {
            rb_ary_store(rb_ary_elt(result, j), i, rb_ary_elt(tmp, j));
        }
    }
    return result;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-uniq">
            
              <b>ary.uniq   &rarr; new_ary
</b>
            
            <a href="../classes/Array.html#method-i-uniq" name="method-i-uniq" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns a new array by removing duplicate values in <code>self</code>.</p>

<pre class="ruby"><span class="ruby-identifier">a</span> = [ <span class="ruby-string">&quot;a&quot;</span>, <span class="ruby-string">&quot;a&quot;</span>, <span class="ruby-string">&quot;b&quot;</span>, <span class="ruby-string">&quot;b&quot;</span>, <span class="ruby-string">&quot;c&quot;</span> ]
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">uniq</span>   <span class="ruby-comment">#=&gt; [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]</span>
<span class="ruby-identifier">c</span> = [ <span class="ruby-string">&quot;a:def&quot;</span>, <span class="ruby-string">&quot;a:xyz&quot;</span>, <span class="ruby-string">&quot;b:abc&quot;</span>, <span class="ruby-string">&quot;b:xyz&quot;</span>, <span class="ruby-string">&quot;c:jkl&quot;</span> ]
<span class="ruby-identifier">c</span>.<span class="ruby-identifier">uniq</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">s</span><span class="ruby-operator">|</span> <span class="ruby-identifier">s</span>[<span class="ruby-regexp">/^\w+/</span>]}  <span class="ruby-comment">#=&gt; [ &quot;a:def&quot;, &quot;b:abc&quot;, &quot;c:jkl&quot; ]</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-uniq_source')" id="l_method-i-uniq_source">show</a>
                
              </p>
              <div id="method-i-uniq_source" class="dyn-source">
                <pre>static VALUE
rb_ary_uniq(VALUE ary)
{
    VALUE hash, uniq, v;
    long i;

    if (RARRAY_LEN(ary) &lt;= 1)
        return rb_ary_dup(ary);
    if (rb_block_given_p()) {
        hash = ary_make_hash_by(ary);
        uniq = ary_new(rb_obj_class(ary), RHASH_SIZE(hash));
        st_foreach(RHASH_TBL(hash), push_value, uniq);
    }
    else {
        hash = ary_make_hash(ary);
        uniq = ary_new(rb_obj_class(ary), RHASH_SIZE(hash));
        for (i=0; i&lt;RARRAY_LEN(ary); i++) {
            st_data_t vv = (st_data_t)(v = rb_ary_elt(ary, i));
            if (st_delete(RHASH_TBL(hash), &amp;vv, 0)) {
                rb_ary_push(uniq, v);
            }
        }
    }
    ary_recycle_hash(hash);

    return uniq;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-uniq-21">
            
              <b>ary.uniq! &rarr; ary or nil
</b>
            
            <a href="../classes/Array.html#method-i-uniq-21" name="method-i-uniq-21" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Removes duplicate elements from <code>self</code>. Returns <code>nil</code>
if no changes are made (that is, no duplicates are found).</p>

<pre class="ruby"><span class="ruby-identifier">a</span> = [ <span class="ruby-string">&quot;a&quot;</span>, <span class="ruby-string">&quot;a&quot;</span>, <span class="ruby-string">&quot;b&quot;</span>, <span class="ruby-string">&quot;b&quot;</span>, <span class="ruby-string">&quot;c&quot;</span> ]
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">uniq!</span>   <span class="ruby-comment">#=&gt; [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]</span>
<span class="ruby-identifier">b</span> = [ <span class="ruby-string">&quot;a&quot;</span>, <span class="ruby-string">&quot;b&quot;</span>, <span class="ruby-string">&quot;c&quot;</span> ]
<span class="ruby-identifier">b</span>.<span class="ruby-identifier">uniq!</span>   <span class="ruby-comment">#=&gt; nil</span>
<span class="ruby-identifier">c</span> = [ <span class="ruby-string">&quot;a:def&quot;</span>, <span class="ruby-string">&quot;a:xyz&quot;</span>, <span class="ruby-string">&quot;b:abc&quot;</span>, <span class="ruby-string">&quot;b:xyz&quot;</span>, <span class="ruby-string">&quot;c:jkl&quot;</span> ]
<span class="ruby-identifier">c</span>.<span class="ruby-identifier">uniq!</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">s</span><span class="ruby-operator">|</span> <span class="ruby-identifier">s</span>[<span class="ruby-regexp">/^\w+/</span>]}  <span class="ruby-comment">#=&gt; [ &quot;a:def&quot;, &quot;b:abc&quot;, &quot;c:jkl&quot; ]</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-uniq-21_source')" id="l_method-i-uniq-21_source">show</a>
                
              </p>
              <div id="method-i-uniq-21_source" class="dyn-source">
                <pre>static VALUE
rb_ary_uniq_bang(VALUE ary)
{
    VALUE hash, v;
    long i, j;

    rb_ary_modify_check(ary);
    if (RARRAY_LEN(ary) &lt;= 1)
        return Qnil;
    if (rb_block_given_p()) {
        hash = ary_make_hash_by(ary);
        if (RARRAY_LEN(ary) == (i = RHASH_SIZE(hash))) {
            return Qnil;
        }
        ARY_SET_LEN(ary, 0);
        if (ARY_SHARED_P(ary) &amp;&amp; !ARY_EMBED_P(ary)) {
            rb_ary_unshare(ary);
            FL_SET_EMBED(ary);
        }
        ary_resize_capa(ary, i);
        st_foreach(RHASH_TBL(hash), push_value, ary);
    }
    else {
        hash = ary_make_hash(ary);
        if (RARRAY_LEN(ary) == (long)RHASH_SIZE(hash)) {
            return Qnil;
        }
        for (i=j=0; i&lt;RARRAY_LEN(ary); i++) {
            st_data_t vv = (st_data_t)(v = rb_ary_elt(ary, i));
            if (st_delete(RHASH_TBL(hash), &amp;vv, 0)) {
                rb_ary_store(ary, j++, v);
            }
        }
        ARY_SET_LEN(ary, j);
    }
    ary_recycle_hash(hash);

    return ary;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-unshift">
            
              <b>ary.unshift(obj, ...)  &rarr; ary
</b>
            
            <a href="../classes/Array.html#method-i-unshift" name="method-i-unshift" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Prepends objects to the front of <code>self</code>, moving other elements
upwards.</p>

<pre class="ruby"><span class="ruby-identifier">a</span> = [ <span class="ruby-string">&quot;b&quot;</span>, <span class="ruby-string">&quot;c&quot;</span>, <span class="ruby-string">&quot;d&quot;</span> ]
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">unshift</span>(<span class="ruby-string">&quot;a&quot;</span>)   <span class="ruby-comment">#=&gt; [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;]</span>
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">unshift</span>(<span class="ruby-value">1</span>, <span class="ruby-value">2</span>)  <span class="ruby-comment">#=&gt; [ 1, 2, &quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;]</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-unshift_source')" id="l_method-i-unshift_source">show</a>
                
              </p>
              <div id="method-i-unshift_source" class="dyn-source">
                <pre>static VALUE
rb_ary_unshift_m(int argc, VALUE *argv, VALUE ary)
{
    long len;

    rb_ary_modify(ary);
    if (argc == 0) return ary;
    if (ARY_CAPA(ary) &lt;= (len = RARRAY_LEN(ary)) + argc) {
        ary_double_capa(ary, len + argc);
    }

    /* sliding items */
    MEMMOVE(RARRAY_PTR(ary) + argc, RARRAY_PTR(ary), VALUE, len);
    MEMCPY(RARRAY_PTR(ary), argv, VALUE, argc);
    ARY_INCREASE_LEN(ary, argc);

    return ary;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-values_at">
            
              <b>ary.values_at(selector,... )  &rarr; new_ary
</b>
            
            <a href="../classes/Array.html#method-i-values_at" name="method-i-values_at" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns an array containing the elements in <code>self</code> corresponding
to the given selector(s). The selectors may be either integer indices or
ranges. See also <code>Array#select</code>.</p>

<pre>a = %w{ a b c d e f }
a.values_at(1, 3, 5)
a.values_at(1, 3, 5, 7)
a.values_at(-1, -3, -5, -7)
a.values_at(1..3, 2...5)</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-values_at_source')" id="l_method-i-values_at_source">show</a>
                
              </p>
              <div id="method-i-values_at_source" class="dyn-source">
                <pre>static VALUE
rb_ary_values_at(int argc, VALUE *argv, VALUE ary)
{
    return rb_get_values_at(ary, RARRAY_LEN(ary), argc, argv, rb_ary_entry);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-zip">
            
              <b>ary.zip(arg, ...)                   &rarr; new_ary
ary.zip(arg, ...) {| arr | block }  &rarr; nil
</b>
            
            <a href="../classes/Array.html#method-i-zip" name="method-i-zip" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Converts any arguments to arrays, then merges elements of <code>self</code>
with corresponding elements from each argument. This generates a sequence
of <code>self.size</code> <em>n</em>-element arrays, where <em>n</em> is
one more that the count of arguments. If the size of any argument is less
than <code>enumObj.size</code>, <code>nil</code> values are supplied. If a
block is given, it is invoked for each output array, otherwise an array of
arrays is returned.</p>

<pre class="ruby"><span class="ruby-identifier">a</span> = [ <span class="ruby-value">4</span>, <span class="ruby-value">5</span>, <span class="ruby-value">6</span> ]
<span class="ruby-identifier">b</span> = [ <span class="ruby-value">7</span>, <span class="ruby-value">8</span>, <span class="ruby-value">9</span> ]
[<span class="ruby-value">1</span>,<span class="ruby-value">2</span>,<span class="ruby-value">3</span>].<span class="ruby-identifier">zip</span>(<span class="ruby-identifier">a</span>, <span class="ruby-identifier">b</span>)      <span class="ruby-comment">#=&gt; [[1, 4, 7], [2, 5, 8], [3, 6, 9]]</span>
[<span class="ruby-value">1</span>,<span class="ruby-value">2</span>].<span class="ruby-identifier">zip</span>(<span class="ruby-identifier">a</span>,<span class="ruby-identifier">b</span>)         <span class="ruby-comment">#=&gt; [[1, 4, 7], [2, 5, 8]]</span>
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">zip</span>([<span class="ruby-value">1</span>,<span class="ruby-value">2</span>],[<span class="ruby-value">8</span>])       <span class="ruby-comment">#=&gt; [[4,1,8], [5,2,nil], [6,nil,nil]]</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-zip_source')" id="l_method-i-zip_source">show</a>
                
              </p>
              <div id="method-i-zip_source" class="dyn-source">
                <pre>static VALUE
rb_ary_zip(int argc, VALUE *argv, VALUE ary)
{
    int i, j;
    long len;
    VALUE result = Qnil;

    len = RARRAY_LEN(ary);
    for (i=0; i&lt;argc; i++) {
        argv[i] = take_items(argv[i], len);
    }
    if (!rb_block_given_p()) {
        result = rb_ary_new2(len);
    }

    for (i=0; i&lt;RARRAY_LEN(ary); i++) {
        VALUE tmp = rb_ary_new2(argc+1);

        rb_ary_push(tmp, rb_ary_elt(ary, i));
        for (j=0; j&lt;argc; j++) {
            rb_ary_push(tmp, rb_ary_elt(argv[j], i));
        }
        if (NIL_P(result)) {
            rb_yield(tmp);
        }
        else {
            rb_ary_push(result, tmp);
        }
    }
    return result;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-7C">
            
              <b>ary | other_ary     &rarr; new_ary
</b>
            
            <a href="../classes/Array.html#method-i-7C" name="method-i-7C" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Set Union—Returns a new array by joining this array with
<em>other_ary</em>, removing duplicates.</p>

<pre class="ruby">[ <span class="ruby-string">&quot;a&quot;</span>, <span class="ruby-string">&quot;b&quot;</span>, <span class="ruby-string">&quot;c&quot;</span> ] <span class="ruby-operator">|</span> [ <span class="ruby-string">&quot;c&quot;</span>, <span class="ruby-string">&quot;d&quot;</span>, <span class="ruby-string">&quot;a&quot;</span> ]
       <span class="ruby-comment">#=&gt; [ &quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot; ]</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-7C_source')" id="l_method-i-7C_source">show</a>
                
              </p>
              <div id="method-i-7C_source" class="dyn-source">
                <pre>static VALUE
rb_ary_or(VALUE ary1, VALUE ary2)
{
    VALUE hash, ary3;
    VALUE v, vv;
    long i;

    ary2 = to_ary(ary2);
    ary3 = rb_ary_new2(RARRAY_LEN(ary1)+RARRAY_LEN(ary2));
    hash = ary_add_hash(ary_make_hash(ary1), ary2);

    for (i=0; i&lt;RARRAY_LEN(ary1); i++) {
        v = vv = rb_ary_elt(ary1, i);
        if (st_delete(RHASH_TBL(hash), (st_data_t*)&amp;vv, 0)) {
            rb_ary_push(ary3, v);
        }
    }
    for (i=0; i&lt;RARRAY_LEN(ary2); i++) {
        v = vv = rb_ary_elt(ary2, i);
        if (st_delete(RHASH_TBL(hash), (st_data_t*)&amp;vv, 0)) {
            rb_ary_push(ary3, v);
        }
    }
    ary_recycle_hash(hash);
    return ary3;
}</pre>
              </div>
            </div>
            
          </div>
                    </div>

    </div>
  </body>
</html>    